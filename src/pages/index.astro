---
import Component from "../components/Component.astro";
import Experience from "../components/experience/index.astro";
import { EXPERIENCE, FREELANCE, PROJECTS } from "../data/experience";
import { SOCIALS } from "../data/socials";
import Layout from "../layouts/Layout.astro";

// Función para obtener el icono de una tecnología
function getTechIcon(tech: string): string | null {
  const techIconMap: Record<string, string> = {
    'Flutter': '/tech-icons/flutter.png',
    'Dart': '/tech-icons/flutter.png',
    'TensorFlow Lite': '/tech-icons/python.svg',
    'YOLO': '/tech-icons/python.svg',
    'Unity': '/tech-icons/unity.png',
    'C#': '/tech-icons/csharp.png',
    'Google Cloud': '/tech-icons/google-cloud.png',
    'Gemini AI': '/tech-icons/google-cloud.png',
    'Google Sign-In': '/tech-icons/google-cloud.png',
    'Firebase': '/tech-icons/google-cloud.png',
    'React': '/tech-icons/react.svg',
    'Node.js': '/tech-icons/nodejs.svg',
    'JavaScript': '/tech-icons/javascript.svg',
    'HTML': '/tech-icons/html.svg',
    'CSS': '/tech-icons/css.png',
    'PHP': '/tech-icons/php.png',
    'MySQL': '/tech-icons/mysql.svg',
    'Python': '/tech-icons/python.svg',
    'AWS': '/tech-icons/aws.png',
    'Git': '/tech-icons/git.svg',
    'GitHub': '/tech-icons/git.svg',
    'Jira': '/tech-icons/jira.png',
    'Express': '/tech-icons/nodejs.svg',
    'JSX': '/tech-icons/react.svg',
    'Axios': '/tech-icons/javascript.svg',
    'Bootstrap': '/tech-icons/css.png',
    'Tailwind': '/tech-icons/tailwind.svg',
    'Astro': '/tech-icons/astro.png',
    'Vite': '/tech-icons/vite.png',
  };
  return techIconMap[tech] || null;
}
---

<Layout title="Mario Alberto Arroyo Utrera | Desarrollador Web & Móvil">
  <!-- Language Selector -->
  <div id="language-selector" class="fixed top-4 right-4 z-50">
    <div class="language-selector flex gap-2 bg-[#030308]/90 backdrop-blur-md border border-violet-500/20 rounded-lg p-1">
      <button id="lang-es" class="lang-btn active px-3 py-1.5 text-xs font-medium rounded transition-all" data-lang="es">
        ES
      </button>
      <button id="lang-en" class="lang-btn px-3 py-1.5 text-xs font-medium rounded transition-all" data-lang="en">
        EN
      </button>
    </div>
  </div>

  <!-- Navigation Menu Desktop -->
  <nav id="nav-menu-desktop" class="fixed left-4 top-1/2 transform -translate-y-1/2 z-50 hidden lg:block">
    <div class="nav-menu flex flex-col gap-2 bg-[#030308]/90 backdrop-blur-md border border-violet-500/20 rounded-full px-2 py-3">
      <a href="#about" class="nav-link" data-section="about" title="Sobre mí">
        <svg class="nav-icon neon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
        </svg>
      </a>
      <a href="#experience" class="nav-link" data-section="experience" title="Experiencia">
        <svg class="nav-icon neon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
        </svg>
      </a>
      <a href="#freelance" class="nav-link" data-section="freelance" title="Freelance">
        <svg class="nav-icon neon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
        </svg>
      </a>
      <a href="#projects" class="nav-link" data-section="projects" title="Proyectos">
        <svg class="nav-icon neon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
        </svg>
      </a>
      <a href="#skills" class="nav-link" data-section="skills" title="Tecnologías">
        <svg class="nav-icon neon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
        </svg>
      </a>
      <a href="#education" class="nav-link" data-section="education" title="Educación">
        <svg class="nav-icon neon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path d="M12 14l9-5-9-5-9 5 9 5z" />
          <path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z" />
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14v9M5.176 11.428a12.05 12.05 0 010 5.144M18.824 11.428a12.05 12.05 0 010 5.144" />
        </svg>
      </a>
      <a href="#certifications" class="nav-link" data-section="certifications" title="Certificaciones">
        <svg class="nav-icon neon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
        </svg>
      </a>
      <a href="#languages" class="nav-link" data-section="languages" title="Idiomas">
        <svg class="nav-icon neon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
      </a>
    </div>
  </nav>

  <!-- Navigation Menu Mobile -->
  <nav id="nav-menu-mobile" class="fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50 lg:hidden">
    <div class="nav-menu-mobile flex gap-1 bg-[#030308]/95 backdrop-blur-md border border-violet-500/20 rounded-full px-3 py-2">
      <a href="#about" class="nav-link-mobile" data-section="about" title="Sobre mí">
        <svg class="nav-icon neon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
        </svg>
      </a>
      <a href="#experience" class="nav-link-mobile" data-section="experience" title="Experiencia">
        <svg class="nav-icon neon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
        </svg>
      </a>
      <a href="#freelance" class="nav-link-mobile" data-section="freelance" title="Freelance">
        <svg class="nav-icon neon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
        </svg>
      </a>
      <a href="#projects" class="nav-link-mobile" data-section="projects" title="Proyectos">
        <svg class="nav-icon neon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
        </svg>
      </a>
      <a href="#skills" class="nav-link-mobile" data-section="skills" title="Tecnologías">
        <svg class="nav-icon neon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
        </svg>
      </a>
      <a href="#education" class="nav-link-mobile" data-section="education" title="Educación">
        <svg class="nav-icon neon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path d="M12 14l9-5-9-5-9 5 9 5z" />
          <path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z" />
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14v9M5.176 11.428a12.05 12.05 0 010 5.144M18.824 11.428a12.05 12.05 0 010 5.144" />
        </svg>
      </a>
    </div>
  </nav>

  <div class="relative hero z-10">
    <div
      class="mx-auto min-h-screen max-w-screen-2xl px-6 py-12 font-sans md:px-12 md:py-20 lg:px-24 lg:py-0"
    >
      <div class="lg:flex lg:justify-between lg:gap-4">
        <header
          class="lg:sticky lg:top-0 lg:flex lg:max-h-screen lg:w-1/2 lg:flex-col lg:justify-between lg:py-24"
        >
          <div
            class="flex lg:items-start gap-4 flex-col lg:flex-row items-center text-center lg:text-left"
          >
            <!-- Avatar con imagen de perfil -->
            <div class="avatar-container relative hero-fade-in">
              <div id="avatar-wrapper" class="w-28 h-28 rounded-full overflow-hidden relative z-10 avatar-glow cursor-pointer transition-all duration-300">
                <img 
                  src="/images/profile.jpg" 
                  alt="Mario Alberto Arroyo Utrera" 
                  class="w-full h-full object-cover avatar-image"
                />
              </div>
              <!-- Badge "Open to work" -->
              <div id="open-to-work-badge" class="open-to-work-badge">
                <span class="open-to-work-dot"></span>
                <span class="open-to-work-text" data-i18n="open-to-work">Open to work</span>
              </div>
            </div>
            
            <div>
              <a
                href="/"
                class="text-4xl lg:text-5xl block font-bold tracking-tight hero-fade-in"
              >
                <h1 class="cosmic-title">Mario Alberto Arroyo Utrera</h1>
              </a>
              <h2 class="mt-3 text-sm lg:text-lg font-medium text-violet-300/80 tracking-widest uppercase hero-fade-in" data-i18n="title">
                Ingeniero en Sistemas Computacionales
              </h2>
              <p class="text-xs lg:text-sm text-slate-400 mt-1 flex items-center justify-center lg:justify-start gap-2 hero-fade-in">
                <span class="inline-block w-1.5 h-1.5 rounded-full bg-cyan-400"></span>
                Actopan, Veracruz, México
              </p>

              <div class="mt-4 space-y-2 text-sm hero-fade-in">
                <a 
                  href="mailto:Mario.arroyout@gmail.com" 
                  class="flex items-center justify-center lg:justify-start gap-2 text-slate-400 hover:text-violet-300 transition-colors"
                >
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                  </svg>
                  <span>Mario.arroyout@gmail.com</span>
                </a>
              </div>

              <button
                data-ccursor
                id="contact-btn"
                class="contact-btn inline-flex rounded-lg px-5 py-3 items-center text-white font-semibold group text-sm gap-x-3 mt-4 hero-fade-in"
              >
                <span data-i18n="contact">Contáctame</span>
                <span class="w-2 h-2 rounded-full bg-cyan-500"></span>
              </button>

              <div class="mt-3 flex flex-wrap gap-2 hero-fade-in">
                <a
                  data-ccursor
                  class="cv-link-small inline-flex items-center text-xs font-medium group px-3 py-1.5 rounded-lg"
                  aria-label="Ver CV en Español"
                  target="_blank"
                  rel="noreferrer noopener"
                  href="https://drive.google.com/file/d/1DevO49na1CEEH8VauZKWGLvpc4iu82Qq/view?usp=sharing"
                >
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 mr-1.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                  </svg>
                  <span data-i18n="cv-es">CV ES</span>
                </a>
                <a
                  data-ccursor
                  class="cv-link-small cv-link-small-en inline-flex items-center text-xs font-medium group px-3 py-1.5 rounded-lg"
                  aria-label="View CV in English"
                  target="_blank"
                  rel="noreferrer noopener"
                  href="https://drive.google.com/file/d/13gQFR2FbXMPPE1EFnQEeDCTKdDmWI014/view?usp=sharing"
                >
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3 mr-1.5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                  </svg>
                  <span data-i18n="cv-en">CV EN</span>
                </a>
              </div>
            </div>
          </div>

          {
            SOCIALS.length && (
              <ul
                class="mt-8 flex items-center justify-center lg:justify-normal gap-x-6 hero-fade-in"
                aria-label="Redes sociales"
              >
                {SOCIALS.map((social) => (
                  <li class="social-icon" data-ccursor>
                    <a
                      class="block p-3"
                      href={social.url}
                      target="_blank"
                      rel="noreferrer noopener"
                      aria-label={`${social.name} (se abre en nueva pestaña)`}
                    >
                      <span class="sr-only">{social.name}</span>
                      {<Component component={social.icon} />}
                    </a>
                  </li>
                ))}
              </ul>
            )
          }
        </header>

        <main id="content" class="pt-24 lg:w-1/2 lg:py-24">
          <section
            id="about"
            class="mb-16 scroll-mt-16 md:mb-24 lg:mb-36 lg:scroll-mt-24 hero-fade-in"
            aria-label="Sobre mí"
          >
            <h2 class="section-title">
              <span class="section-title-icon">
                <svg class="section-icon neon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
              </span>
              <span data-i18n="about-title">Sobre mí</span>
              </h2>
            <div class="space-card rounded-2xl p-6">
              <div class="mb-4 text-slate-300">
                <p data-i18n="about-text">
                  Desarrollador y analista de requerimientos especializado en 
                  <span class="text-violet-400 font-semibold">desarrollo web y móvil</span> con metodologías ágiles (Scrum). 
                  Adaptable, autodidacta y enfocado en generar valor desde la planificación hasta la ejecución.
                </p>
              </div>
            </div>
          </section>

          <section
            id="experience"
            class="mb-16 scroll-mt-16 md:mb-24 lg:mb-36 lg:scroll-mt-24 hero-fade-in"
            aria-label="Experiencia laboral"
          >
            <h2 class="section-title">
              <span class="section-title-icon">
                <svg class="section-icon neon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                </svg>
              </span>
              <span data-i18n="experience-title">Experiencia Laboral</span>
              </h2>
            <ol class="group/list space-y-8">
                {EXPERIENCE.map((experience) => <Experience {...experience} />)}
              </ol>
          </section>

          <section
            id="freelance"
            class="mb-16 scroll-mt-16 md:mb-24 lg:mb-36 lg:scroll-mt-24 hero-fade-in"
            aria-label="Proyectos Freelance"
          >
            <h2 class="section-title">
              <span class="section-title-icon">
                <svg class="section-icon neon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                </svg>
              </span>
              <span data-i18n="freelance-title">Proyectos Freelance</span>
            </h2>
            <ol class="group/list space-y-8">
                {FREELANCE.map((freelance) => <Experience {...freelance} />)}
              </ol>
          </section>

          <section
            id="projects"
            class="mb-16 scroll-mt-16 md:mb-24 lg:mb-36 lg:scroll-mt-24 hero-fade-in"
            aria-label="Proyectos personales destacados"
          >
            <h2 class="section-title">
              <span class="section-title-icon">
                <svg class="section-icon neon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                </svg>
              </span>
              <span data-i18n="projects-title">Proyectos Personales</span>
            </h2>
            <div class="grid gap-4">
              {PROJECTS.map((project) => (
                <div 
                  class={`project-card space-card rounded-2xl p-5 cursor-pointer ${project.featured ? 'featured' : ''}`}
                  data-project-id={project.id}
                  data-project-title={project.title}
                  data-project-description={project.description}
                  data-project-technologies={JSON.stringify(project.technologies)}
                  data-project-github={project.github || ''}
                  data-project-url={project.url || ''}
                  data-project-images={JSON.stringify(project.images)}
                >
                  <div class="flex items-start justify-between gap-4">
                    <div class="flex-1">
                      <h3 class="font-semibold text-lg text-slate-200 flex items-center gap-2">
                        {project.title}
                        {project.featured && (
                          <svg class="h-5 w-5 text-amber-400" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" style="filter: drop-shadow(0 0 4px rgba(251, 191, 36, 0.6));">
                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                          </svg>
                        )}
                        {project.images.length > 0 && (
                          <span class="text-xs text-violet-400 flex items-center gap-1">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                            </svg>
                            {project.images.length}
                          </span>
                        )}
                      </h3>
                      <p class="text-sm text-slate-400 mt-2" data-i18n={`project-${project.id}`}>{project.description}</p>
                      <div class="flex flex-wrap gap-2 mt-3">
                        {project.technologies.map((tech) => {
                          const iconPath = getTechIcon(tech);
                          return (
                            <span class="text-xs px-2 py-1 rounded-full bg-violet-500/10 text-violet-300 border border-violet-500/20 inline-flex items-center gap-1.5">
                              {iconPath && (
                                <img src={iconPath} alt={tech} class="w-3.5 h-3.5 object-contain" />
                              )}
                              {tech}
                            </span>
                          );
                        })}
              </div>
                    </div>
                    <div class="flex gap-2">
                      {project.github && (
                        <a
                          href={project.github}
                          target="_blank"
                          rel="noreferrer noopener"
                          class="text-slate-400 hover:text-violet-300 transition-colors p-2 z-10"
                          aria-label={`Ver ${project.title} en GitHub`}
                          onclick="event.stopPropagation()"
                        >
                          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="h-5 w-5">
                            <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
                          </svg>
                        </a>
                      )}
                      {project.url && (
                        <a
                          href={project.url}
                          target="_blank"
                          rel="noreferrer noopener"
                          class="text-slate-400 hover:text-violet-300 transition-colors p-2 z-10"
                          aria-label={`Visitar ${project.title}`}
                          onclick="event.stopPropagation()"
                        >
                          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                          </svg>
                        </a>
                      )}
                    </div>
                  </div>
                </div>
              ))}
            </div>
          </section>

          <section
            id="skills"
            class="mb-16 scroll-mt-16 md:mb-24 lg:mb-36 lg:scroll-mt-24 hero-fade-in"
            aria-label="Tecnologías"
          >
            <h2 class="section-title">
              <span class="section-title-icon">
                <svg class="section-icon neon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                </svg>
              </span>
              <span data-i18n="skills-title">Tecnologías</span>
              </h2>
            <div class="space-card rounded-2xl p-6">
              <div class="space-y-4">
                <!-- Frontend -->
                <div>
                  <h3 class="text-xs font-semibold text-violet-300/70 uppercase tracking-wider mb-2" data-i18n="tech-frontend">Frontend</h3>
                  <div class="flex flex-wrap gap-2">
                    <span class="tech-tag tech-tag-cyan inline-flex items-center gap-1.5">
                      <img src="/tech-icons/react.svg" alt="React" class="w-3.5 h-3.5 object-contain" />
                      React
                    </span>
                    <span class="tech-tag tech-tag-amber inline-flex items-center gap-1.5">
                      <img src="/tech-icons/javascript.svg" alt="JavaScript" class="w-3.5 h-3.5 object-contain" />
                      JavaScript
                    </span>
                    <span class="tech-tag tech-tag-violet inline-flex items-center gap-1.5">
                      <img src="/tech-icons/flutter.png" alt="Flutter" class="w-3.5 h-3.5 object-contain" />
                      Flutter
                    </span>
                    <span class="tech-tag tech-tag-astro inline-flex items-center gap-1.5">
                      <img src="/tech-icons/astro.png" alt="Astro" class="w-3.5 h-3.5 object-contain" />
                      Astro
                    </span>
                    <span class="tech-tag tech-tag-blue inline-flex items-center gap-1.5">
                      <img src="/tech-icons/html.svg" alt="HTML" class="w-3.5 h-3.5 object-contain" />
                      HTML
                    </span>
                    <span class="tech-tag tech-tag-cyan inline-flex items-center gap-1.5">
                      <img src="/tech-icons/css.png" alt="CSS" class="w-3.5 h-3.5 object-contain" />
                      CSS
                    </span>
                    <span class="tech-tag tech-tag-emerald inline-flex items-center gap-1.5">
                      <img src="/tech-icons/tailwind.svg" alt="Tailwind" class="w-3.5 h-3.5 object-contain" />
                      Tailwind
                    </span>
                    <span class="tech-tag tech-tag-vite inline-flex items-center gap-1.5">
                      <img src="/tech-icons/vite.png" alt="Vite" class="w-3.5 h-3.5 object-contain" />
                      Vite
                    </span>
            </div>
                </div>

                <!-- Backend -->
            <div>
                  <h3 class="text-xs font-semibold text-violet-300/70 uppercase tracking-wider mb-2" data-i18n="tech-backend">Backend</h3>
                  <div class="flex flex-wrap gap-2">
                    <span class="tech-tag tech-tag-fuchsia inline-flex items-center gap-1.5">
                      <img src="/tech-icons/php.png" alt="PHP" class="w-3.5 h-3.5 object-contain" />
                      PHP
                    </span>
                    <span class="tech-tag tech-tag-emerald inline-flex items-center gap-1.5">
                      <img src="/tech-icons/nodejs.svg" alt="Node.js" class="w-3.5 h-3.5 object-contain" />
                      Node.js
                    </span>
                    <span class="tech-tag tech-tag-blue inline-flex items-center gap-1.5">
                      <img src="/tech-icons/mysql.svg" alt="MySQL" class="w-3.5 h-3.5 object-contain" />
                      MySQL
                    </span>
                    <span class="tech-tag tech-tag-csharp inline-flex items-center gap-1.5">
                      <img src="/tech-icons/csharp.png" alt="C#" class="w-3.5 h-3.5 object-contain" />
                      C#
                    </span>
                    <span class="tech-tag tech-tag-python inline-flex items-center gap-1.5">
                      <img src="/tech-icons/python.svg" alt="Python" class="w-3.5 h-3.5 object-contain" />
                      Python
                    </span>
                  </div>
                </div>

                <!-- Otros -->
                <div>
                  <h3 class="text-xs font-semibold text-violet-300/70 uppercase tracking-wider mb-2" data-i18n="tech-others">Otros</h3>
                  <div class="flex flex-wrap gap-2">
                    <span class="tech-tag tech-tag-orange inline-flex items-center gap-1.5">
                      <img src="/tech-icons/aws.png" alt="AWS" class="w-3.5 h-3.5 object-contain" />
                      AWS
                    </span>
                    <span class="tech-tag tech-tag-google-cloud inline-flex items-center gap-1.5">
                      <img src="/tech-icons/google-cloud.png" alt="Google Cloud" class="w-3.5 h-3.5 object-contain" />
                      Google Cloud
                    </span>
                    <span class="tech-tag tech-tag-unity inline-flex items-center gap-1.5">
                      <img src="/tech-icons/unity.png" alt="Unity" class="w-3.5 h-3.5 object-contain" />
                      Unity
                    </span>
                    <span class="tech-tag tech-tag-postman inline-flex items-center gap-1.5">
                      <img src="/tech-icons/postman.svg" alt="Postman" class="w-3.5 h-3.5 object-contain" />
                      Postman
                    </span>
                    <span class="tech-tag tech-tag-laragon inline-flex items-center gap-1.5">
                      <img src="/tech-icons/laragon.png" alt="Laragon" class="w-3.5 h-3.5 object-contain" />
                      Laragon
                    </span>
                    <span class="tech-tag tech-tag-git inline-flex items-center gap-1.5">
                      <img src="/tech-icons/git.svg" alt="Git" class="w-3.5 h-3.5 object-contain" />
                      Git
                    </span>
                    <span class="tech-tag tech-tag-jira inline-flex items-center gap-1.5">
                      <img src="/tech-icons/jira.png" alt="Jira" class="w-3.5 h-3.5 object-contain" />
                      Jira
                    </span>
                    <span class="tech-tag tech-tag-office inline-flex items-center gap-1.5">
                      <img src="/tech-icons/msoffice.png" alt="MS Office" class="w-3.5 h-3.5 object-contain" />
                      MS Office
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <!-- Modal Certificados -->
          <div id="certification-modal" class="certification-modal hidden">
            <div id="certification-backdrop" class="certification-backdrop"></div>
            <div class="certification-content">
              <button id="certification-close-btn" class="certification-close" aria-label="Cerrar">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
              <h3 id="certification-title" class="certification-title"></h3>
              <div class="certification-image-container">
                <img id="certification-image" src="" alt="" class="certification-image" />
              </div>
            </div>
          </div>

          <!-- Modal de Imagen Ampliada -->
          <div id="image-zoom-modal" class="image-zoom-modal hidden">
            <div id="image-zoom-backdrop" class="image-zoom-backdrop"></div>
            <div class="image-zoom-content">
              <button id="image-zoom-close" class="image-zoom-close" aria-label="Cerrar">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
              <button id="image-zoom-prev" class="image-zoom-nav image-zoom-prev" aria-label="Imagen anterior">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                </svg>
              </button>
              <div class="image-zoom-container">
                <img id="image-zoom-img" src="" alt="" class="image-zoom-image" />
              </div>
              <button id="image-zoom-next" class="image-zoom-nav image-zoom-next" aria-label="Imagen siguiente">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
              </button>
              <div id="image-zoom-indicator" class="image-zoom-indicator">
                <span id="image-zoom-current">1</span>
                <span class="image-zoom-separator">/</span>
                <span id="image-zoom-total">1</span>
              </div>
            </div>
          </div>

          <!-- Modal Carrusel de Imágenes -->
          <div id="carousel-modal" class="carousel-modal hidden">
            <div id="carousel-backdrop" class="carousel-backdrop"></div>
            <div class="carousel-content">
              <button id="carousel-close-btn" class="carousel-close" aria-label="Cerrar">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
              </button>
              
              <!-- Interfaz para proyectos -->
              <div id="project-detail-view" class="project-detail-view hidden">
                <div class="project-detail-container">
                  <!-- Columna izquierda: Carrusel de imágenes -->
                  <div class="project-detail-image-section">
                    <div class="project-image-carousel-container">
                      <button id="project-prev-btn" class="project-carousel-nav project-carousel-prev" aria-label="Anterior">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                      </button>
                      <div id="project-image-carousel" class="project-image-carousel">
                        <!-- Las imágenes se insertarán aquí -->
                      </div>
                      <button id="project-next-btn" class="project-carousel-nav project-carousel-next" aria-label="Siguiente">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                        </svg>
                      </button>
                    </div>
                    <div id="project-image-indicator" class="project-image-indicator">
                      <span id="project-image-current">1</span>
                      <span class="project-image-separator">/</span>
                      <span id="project-image-total">1</span>
                    </div>
                    <!-- Carrusel de miniaturas -->
                    <div id="project-thumbnails-container" class="project-thumbnails-container">
                      <button id="project-thumbnails-prev" class="project-thumbnails-nav project-thumbnails-prev" aria-label="Anterior miniatura">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                        </svg>
                      </button>
                      <div id="project-thumbnails" class="project-thumbnails">
                        <!-- Las miniaturas se insertarán aquí -->
                      </div>
                      <button id="project-thumbnails-next" class="project-thumbnails-nav project-thumbnails-next" aria-label="Siguiente miniatura">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                        </svg>
                      </button>
                    </div>
                  </div>
                  
                  <!-- Columna derecha: Información del proyecto -->
                  <div class="project-detail-info-section">
                    <h3 id="project-detail-title" class="project-detail-title"></h3>
                    <p id="project-detail-description" class="project-detail-description"></p>
                    
                    <div id="project-detail-highlights" class="project-detail-highlights">
                      <div class="project-detail-section-header">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />
                        </svg>
                        <span>DESTACADOS</span>
                      </div>
                      <ul id="project-detail-highlights-list" class="project-detail-highlights-list"></ul>
                    </div>
                    
                    <div id="project-detail-tech" class="project-detail-tech">
                      <div class="project-detail-section-header">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                        </svg>
                        <span>STACK TECNOLÓGICO</span>
                      </div>
                      <div id="project-detail-tech-list" class="project-detail-tech-list"></div>
                    </div>
                    
                    <div class="project-detail-buttons">
                      <a id="project-detail-github" href="#" target="_blank" rel="noreferrer noopener" class="project-detail-github-btn hidden">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24">
                          <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                        </svg>
                        <span>Ver Código</span>
                      </a>
                      <a id="project-detail-demo" href="#" target="_blank" rel="noreferrer noopener" class="project-detail-demo-btn hidden">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                          <path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
                        </svg>
                        <span>Ver Demo</span>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
              
              <!-- Interfaz original para experiencia laboral -->
              <div id="carousel-view" class="carousel-view">
                <h3 id="carousel-title" class="carousel-title"></h3>
                <div class="carousel-container">
                  <button id="carousel-prev-btn" class="carousel-nav carousel-prev" aria-label="Anterior">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                  </button>
                  <div id="carousel-images" class="carousel-images"></div>
                  <button id="carousel-next-btn" class="carousel-nav carousel-next" aria-label="Siguiente">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                  </button>
                </div>
                <div id="carousel-indicator" class="carousel-indicator">
                  <span id="carousel-current">1</span>
                  <span class="carousel-separator">/</span>
                  <span id="carousel-total">4</span>
                </div>
                <p id="carousel-empty" class="carousel-empty hidden">No hay imágenes disponibles para este proyecto.</p>
              </div>
            </div>
          </div>

          <section
            id="education"
            class="mb-16 scroll-mt-16 md:mb-24 lg:mb-36 lg:scroll-mt-24 hero-fade-in"
            aria-label="Educación"
          >
            <h2 class="section-title">
              <span class="section-title-icon">
                <svg class="section-icon neon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path d="M12 14l9-5-9-5-9 5 9 5z" />
                  <path d="M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z" />
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14v9M5.176 11.428a12.05 12.05 0 010 5.144M18.824 11.428a12.05 12.05 0 010 5.144" />
                </svg>
                    </span>
              <span data-i18n="education-title">Educación</span>
            </h2>
            <div class="space-card rounded-2xl p-6 group">
              <h3 class="font-semibold text-lg text-violet-300" data-i18n="education-degree">
                Ingeniería en Sistemas Computacionales
              </h3>
              <p class="text-sm text-slate-400 mt-1" data-i18n="education-institution">Instituto Tecnológico Superior de Xalapa</p>
              <p class="text-xs text-slate-500 mt-1 font-mono">2020 — 2025</p>
              <div class="mt-4 flex items-center gap-2 text-sm">
                <svg class="h-6 w-6 text-amber-400" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" style="filter: drop-shadow(0 0 6px rgba(251, 191, 36, 0.7));">
                  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                </svg>
                <span class="text-amber-400 font-medium" data-i18n="education-achievement">
                  Podio en InnovaTecNM a nivel nacional | "AssistVision" | 2024
                </span>
              </div>
            </div>
          </section>

          <section
            id="certifications"
            class="mb-16 scroll-mt-16 md:mb-24 lg:mb-36 lg:scroll-mt-24 hero-fade-in"
            aria-label="Certificaciones"
          >
            <h2 class="section-title">
              <span class="section-title-icon">
                <svg class="section-icon neon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
                </svg>
                      </span>
              <span data-i18n="certifications-title">Certificaciones</span>
            </h2>
            <div class="space-card rounded-2xl p-6">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="certification-item group">
                  <div 
                    class="relative overflow-hidden rounded-lg border border-violet-500/20 bg-violet-500/5 p-4 hover:border-violet-500/40 transition-all duration-300 cursor-pointer certification-card"
                    data-certification-title="Google Cloud Computing Foundations"
                    data-certification-image="/certifications/google-cloud.png"
                  >
                    <img 
                      src="/certifications/google-cloud.png" 
                      alt="Google Cloud Computing Foundations" 
                      class="w-full h-auto rounded-md object-contain bg-white/5"
                    />
                    <div class="mt-3 text-center">
                      <p class="text-sm font-medium text-violet-300">Google Cloud Computing Foundations</p>
                      <p class="text-xs text-slate-400 mt-1">4 Cursos (2023)</p>
                    </div>
                  </div>
                </div>
                <div class="certification-item group">
                  <div 
                    class="relative overflow-hidden rounded-lg border border-violet-500/20 bg-violet-500/5 p-4 hover:border-violet-500/40 transition-all duration-300 cursor-pointer certification-card"
                    data-certification-title="Scrum Fundamentals Certified"
                    data-certification-image="/certifications/scrum.png"
                  >
                    <img 
                      src="/certifications/scrum.png" 
                      alt="Scrum Fundamentals Certified" 
                      class="w-full h-auto rounded-md object-contain bg-white/5"
                    />
                    <div class="mt-3 text-center">
                      <p class="text-sm font-medium text-violet-300">Scrum Fundamentals Certified</p>
                      <p class="text-xs text-slate-400 mt-1">2024</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

          <section
            id="languages"
            class="mb-16 scroll-mt-16 md:mb-24 lg:mb-36 lg:scroll-mt-24 hero-fade-in"
            aria-label="Idiomas"
          >
            <h2 class="section-title">
              <span class="section-title-icon">
                <svg class="section-icon neon-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
              </span>
              <span data-i18n="languages-title">Idiomas</span>
            </h2>
            <div class="space-card rounded-2xl p-6">
              <ul class="space-y-3 text-sm text-slate-300">
                <li class="flex items-center gap-3">
                  <span data-i18n="lang-spanish">Español:</span> <span class="text-emerald-400" data-i18n="lang-native">Nativo</span>
                </li>
                <li class="flex items-center gap-3">
                  <span data-i18n="lang-english">Inglés:</span> <span class="text-cyan-400" data-i18n="lang-intermediate">Intermedio</span>
                </li>
              </ul>
            </div>
          </section>

          <footer class="max-w-md pb-16 text-sm text-slate-500 sm:pb-0">
            <p>
              <span data-i18n="footer-developed">Desarrollado con</span>
              <a
                href="https://astro.build/"
                class="font-medium text-violet-400 hover:text-violet-300 hover:underline"
                target="_blank"
                rel="noreferrer">Astro</a
              >
              <span data-i18n="footer-and">y</span>
              <a
                href="https://tailwindcss.com/"
                class="font-medium text-cyan-400 hover:text-cyan-300 hover:underline"
                target="_blank"
                rel="noreferrer">Tailwind CSS</a
              >
            </p>
          </footer>
        </main>
      </div>
    </div>
  </div>

  <!-- Modal de Contacto -->
  <div id="contact-modal" class="contact-modal hidden">
    <div class="contact-modal-backdrop"></div>
    <div class="contact-modal-content">
      <button id="contact-modal-close" class="contact-modal-close" aria-label="Cerrar formulario">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
      <h2 class="contact-modal-title" data-i18n="contact-form-title">Contáctame</h2>
      <form id="contact-form" class="contact-form">
        <div class="contact-form-group">
          <label for="contact-name" class="contact-form-label" data-i18n="contact-name">Nombre</label>
          <input 
            type="text" 
            id="contact-name" 
            name="name" 
            class="contact-form-input" 
            required
            placeholder="Tu nombre"
          />
        </div>
        <div class="contact-form-group">
          <label for="contact-email" class="contact-form-label" data-i18n="contact-email">Correo electrónico</label>
          <input 
            type="email" 
            id="contact-email" 
            name="email" 
            class="contact-form-input" 
            required
            placeholder="tu@email.com"
          />
        </div>
        <div class="contact-form-group">
          <label for="contact-subject" class="contact-form-label" data-i18n="contact-subject">Asunto</label>
          <input 
            type="text" 
            id="contact-subject" 
            name="subject" 
            class="contact-form-input" 
            required
            placeholder="Asunto del mensaje"
          />
        </div>
        <div class="contact-form-group">
          <label for="contact-message" class="contact-form-label" data-i18n="contact-message">Mensaje</label>
          <textarea 
            id="contact-message" 
            name="message" 
            class="contact-form-textarea" 
            rows="5"
            required
            placeholder="Escribe tu mensaje aquí..."
          ></textarea>
        </div>
        <button type="submit" class="contact-form-submit" data-i18n="contact-send">
          <span id="contact-submit-text">Enviar mensaje</span>
          <span id="contact-submit-loader" class="contact-form-loader hidden">
            <svg class="animate-spin h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
          </span>
        </button>
        <div id="contact-form-message" class="contact-form-message hidden"></div>
      </form>
    </div>
  </div>

  <footer class="text-center py-6 text-xs text-slate-500 border-t border-violet-500/10">
    <span class="font-mono">{new Date().getFullYear()}</span> Mario Alberto Arroyo Utrera.
  </footer>
</Layout>

<style>
  .cosmic-title {
    background: linear-gradient(135deg, #f8fafc 0%, #c4b5fd 50%, #67e8f9 100%);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  .avatar-container {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .avatar-glow {
    box-shadow: 0 0 40px rgba(139, 92, 246, 0.4);
    border: 2px solid rgba(139, 92, 246, 0.3);
  }

  .avatar-image {
    transform: scale(1.15);
    transition: transform 0.3s ease;
  }

  .avatar-container:hover .avatar-image {
    transform: scale(1.2);
  }

  .avatar-container:hover .avatar-glow {
    border-color: rgba(139, 92, 246, 0.5);
    box-shadow: 0 0 50px rgba(139, 92, 246, 0.5);
  }

  #avatar-wrapper.expanded {
    width: 12rem;
    height: 12rem;
    border-color: rgba(139, 92, 246, 0.7);
    box-shadow: 
      0 0 60px rgba(139, 92, 246, 0.6),
      0 0 100px rgba(139, 92, 246, 0.3);
  }

  #avatar-wrapper.expanded .avatar-image {
    transform: scale(1.1);
  }

  /* Badge "Open to work" */
  .open-to-work-badge {
    position: absolute;
    bottom: -1.75rem;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    align-items: center;
    gap: 0.25rem;
    background: rgba(74, 55, 107, 0.6);
    border-radius: 9999px;
    padding: 0.25rem 0.5rem;
    font-size: 0.625rem;
    font-weight: 500;
    color: rgba(226, 232, 240, 0.9);
    white-space: nowrap;
    transition: all 0.3s ease;
    z-index: 5;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  }

  .open-to-work-dot {
    position: relative;
    width: 0.375rem;
    height: 0.375rem;
    background: #8b5cf6;
    border-radius: 50%;
    flex-shrink: 0;
    z-index: 2;
  }

  .open-to-work-dot::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 0.375rem;
    height: 0.375rem;
    background: #8b5cf6;
    border-radius: 50%;
    opacity: 0.6;
    animation: radarPulse 2s ease-out infinite;
  }

  .open-to-work-text {
    font-family: 'Space Mono', monospace;
    letter-spacing: 0.025em;
  }

  @keyframes radarPulse {
    0% {
      transform: translate(-50%, -50%) scale(1);
      opacity: 0.6;
    }
    100% {
      transform: translate(-50%, -50%) scale(2.5);
      opacity: 0;
    }
  }

  /* Expandir badge cuando el avatar se expande */
  .open-to-work-badge.expanded {
    bottom: -2rem;
    padding: 0.375rem 0.625rem;
    font-size: 0.75rem;
    gap: 0.375rem;
  }

  .open-to-work-badge.expanded .open-to-work-dot {
    width: 0.5rem;
    height: 0.5rem;
  }

  .open-to-work-badge.expanded .open-to-work-dot::before {
    width: 0.5rem;
    height: 0.5rem;
  }

  .contact-btn {
    background: rgba(139, 92, 246, 0.15);
    border: 1px solid rgba(139, 92, 246, 0.3);
  }

  .contact-btn:hover {
    background: rgba(139, 92, 246, 0.25);
    border-color: rgba(139, 92, 246, 0.5);
  }

  .social-icon a {
    background: transparent;
    border: none;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
  }

  .social-icon a::before {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(139, 92, 246, 0.1);
    border: 1px solid rgba(139, 92, 246, 0.2);
    border-radius: 50%;
    transition: all 0.2s ease;
  }

  .social-icon a:hover::before {
    background: rgba(139, 92, 246, 0.25);
    border-color: rgba(139, 92, 246, 0.5);
    transform: scale(1.1);
  }

  .social-icon a:hover {
    color: #c4b5fd;
  }

  .space-card {
    background: rgba(10, 10, 20, 0.6);
    border: 1px solid rgba(139, 92, 246, 0.15);
  }

  .space-card:hover {
    border-color: rgba(139, 92, 246, 0.3);
  }

  .tech-tag {
    padding: 0.375rem 0.875rem;
    font-size: 0.75rem;
    border-radius: 9999px;
    font-weight: 500;
    border: 1px solid;
  }

  .tech-tag svg {
    flex-shrink: 0;
    opacity: 0.9;
  }

  .tech-tag-violet {
    background: rgba(139, 92, 246, 0.15);
    color: #c4b5fd;
    border-color: rgba(139, 92, 246, 0.3);
  }

  .tech-tag-cyan {
    background: rgba(6, 182, 212, 0.15);
    color: #67e8f9;
    border-color: rgba(6, 182, 212, 0.3);
  }

  .tech-tag-amber {
    background: rgba(245, 158, 11, 0.15);
    color: #fcd34d;
    border-color: rgba(245, 158, 11, 0.3);
  }

  .tech-tag-fuchsia {
    background: rgba(217, 70, 239, 0.15);
    color: #f0abfc;
    border-color: rgba(217, 70, 239, 0.3);
  }

  .tech-tag-emerald {
    background: rgba(16, 185, 129, 0.15);
    color: #6ee7b7;
    border-color: rgba(16, 185, 129, 0.3);
  }

  .tech-tag-blue {
    background: rgba(59, 130, 246, 0.15);
    color: #93c5fd;
    border-color: rgba(59, 130, 246, 0.3);
  }

  .tech-tag-orange {
    background: rgba(249, 115, 22, 0.15);
    color: #fdba74;
    border-color: rgba(249, 115, 22, 0.3);
  }

  .tech-tag-astro {
    background: rgba(255, 93, 1, 0.15);
    color: #ff8a4c;
    border-color: rgba(255, 93, 1, 0.3);
  }

  .tech-tag-unity {
    background: rgba(100, 100, 100, 0.15);
    color: #c0c0c0;
    border-color: rgba(100, 100, 100, 0.3);
  }

  .tech-tag-csharp {
    background: rgba(104, 33, 122, 0.15);
    color: #bf7ee6;
    border-color: rgba(104, 33, 122, 0.3);
  }

  .tech-tag-python {
    background: rgba(48, 105, 152, 0.15);
    color: #60a5fa;
    border-color: rgba(48, 105, 152, 0.3);
  }

  .tech-tag-postman {
    background: rgba(255, 108, 55, 0.15);
    color: #ff8c5a;
    border-color: rgba(255, 108, 55, 0.3);
  }

  .tech-tag-laragon {
    background: rgba(34, 197, 94, 0.15);
    color: #4ade80;
    border-color: rgba(34, 197, 94, 0.3);
  }

  .tech-tag-git {
    background: rgba(239, 68, 68, 0.15);
    color: #f87171;
    border-color: rgba(239, 68, 68, 0.3);
  }

  .tech-tag-jira {
    background: rgba(0, 82, 204, 0.15);
    color: #60a5fa;
    border-color: rgba(0, 82, 204, 0.3);
  }

  .tech-tag-office {
    background: rgba(217, 70, 239, 0.15);
    color: #d946ef;
    border-color: rgba(217, 70, 239, 0.3);
  }

  .tech-tag-google-cloud {
    background: rgba(66, 133, 244, 0.15);
    color: #60a5fa;
    border-color: rgba(66, 133, 244, 0.3);
  }

  .tech-tag-vite {
    background: rgba(100, 220, 140, 0.15);
    color: #64dc8c;
    border-color: rgba(100, 220, 140, 0.3);
  }

  .cv-link {
    color: #c4b5fd;
    background: rgba(139, 92, 246, 0.1);
    border: 1px solid rgba(139, 92, 246, 0.2);
  }

  .cv-link:hover {
    background: rgba(139, 92, 246, 0.2);
    border-color: rgba(139, 92, 246, 0.4);
  }

  .cv-link-en {
    color: #67e8f9;
    background: rgba(6, 182, 212, 0.1);
    border: 1px solid rgba(6, 182, 212, 0.2);
  }

  .cv-link-en:hover {
    background: rgba(6, 182, 212, 0.2);
    border-color: rgba(6, 182, 212, 0.4);
  }

  .cv-link-small {
    color: #c4b5fd;
    background: rgba(139, 92, 246, 0.1);
    border: 1px solid rgba(139, 92, 246, 0.2);
    transition: all 0.2s ease;
  }

  .cv-link-small:hover {
    background: rgba(139, 92, 246, 0.2);
    border-color: rgba(139, 92, 246, 0.4);
    transform: translateY(-1px);
  }

  .cv-link-small-en {
    color: #67e8f9;
    background: rgba(6, 182, 212, 0.1);
    border: 1px solid rgba(6, 182, 212, 0.2);
  }

  .cv-link-small-en:hover {
    background: rgba(6, 182, 212, 0.2);
    border-color: rgba(6, 182, 212, 0.4);
  }

  .hero {
    overflow-y: visible;
    overflow-x: clip;
  }

  /* Hero fade-in animations */
  .hero-fade-in {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.8s ease-out, transform 0.8s ease-out;
    will-change: opacity, transform;
  }

  .hero-fade-in.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Respect user's motion preferences */
  @media (prefers-reduced-motion: reduce) {
    .hero-fade-in {
      opacity: 1;
      transform: translateY(0);
      transition: none;
    }
  }

  @keyframes heroFadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Language Selector */
  .language-selector {
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  }

  .lang-btn {
    color: #94a3b8;
    background: transparent;
    border: none;
    cursor: pointer;
  }

  .lang-btn:hover {
    color: #c4b5fd;
    background: rgba(139, 92, 246, 0.1);
  }

  .lang-btn.active {
    color: white;
    background: rgba(139, 92, 246, 0.3);
    box-shadow: 0 0 15px rgba(139, 92, 246, 0.4);
  }

  /* Language transition animations */
  [data-i18n] {
    transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;
  }

  .lang-fade-out {
    opacity: 0;
    transform: translateY(-5px);
  }

  .lang-fade-in {
    animation: langFadeIn 0.3s ease-in-out forwards;
  }

  @keyframes langFadeIn {
    from {
      opacity: 0;
      transform: translateY(5px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Navigation Menu */
  .nav-menu {
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    transition: opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1), transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  #nav-menu-desktop {
    transition: opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1), transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  #nav-menu-desktop.nav-hidden {
    opacity: 0;
    transform: translateX(-20px) translateY(-50%);
    pointer-events: none;
  }

  #nav-menu-desktop:not(.nav-hidden) {
    opacity: 1;
    transform: translateX(0) translateY(-50%);
    animation: navFadeIn 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  @keyframes navFadeIn {
    0% {
      opacity: 0;
      transform: translateX(-20px) translateY(-50%);
    }
    100% {
      opacity: 1;
      transform: translateX(0) translateY(-50%);
    }
  }

  .nav-link {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 44px;
    height: 44px;
    border-radius: 50%;
    color: #94a3b8;
    background: transparent;
    transition: all 0.3s ease;
    position: relative;
    text-decoration: none;
  }

  .nav-link:hover {
    color: #c4b5fd;
    background: rgba(139, 92, 246, 0.15);
    transform: translateX(3px);
  }

  .nav-link.active {
    color: white;
    background: rgba(139, 92, 246, 0.3);
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.5);
  }

  .nav-link.active::after {
    content: '';
    position: absolute;
    inset: -2px;
    border-radius: 50%;
    border: 2px solid rgba(139, 92, 246, 0.5);
    animation: pulse-ring 2s ease-out infinite;
  }

  @keyframes pulse-ring {
    0% {
      transform: scale(1);
      opacity: 1;
    }
    100% {
      transform: scale(1.3);
      opacity: 0;
    }
  }

  .nav-icon {
    width: 20px;
    height: 20px;
    z-index: 1;
    transition: all 0.3s ease;
  }

  .neon-icon {
    stroke: #94a3b8;
    filter: drop-shadow(0 0 2px rgba(139, 92, 246, 0.3));
  }

  .nav-link:hover .neon-icon,
  .nav-link-mobile:hover .neon-icon {
    stroke: #c4b5fd;
    filter: drop-shadow(0 0 8px rgba(139, 92, 246, 0.8)) drop-shadow(0 0 12px rgba(139, 92, 246, 0.6));
    transform: scale(1.1);
  }

  .nav-link.active .neon-icon,
  .nav-link-mobile.active .neon-icon {
    stroke: #a78bfa;
    filter: drop-shadow(0 0 10px rgba(139, 92, 246, 1)) drop-shadow(0 0 20px rgba(139, 92, 246, 0.8)) drop-shadow(0 0 30px rgba(139, 92, 246, 0.6));
    animation: neonPulse 2s ease-in-out infinite;
  }

  @keyframes neonPulse {
    0%, 100% {
      filter: drop-shadow(0 0 10px rgba(139, 92, 246, 1)) drop-shadow(0 0 20px rgba(139, 92, 246, 0.8)) drop-shadow(0 0 30px rgba(139, 92, 246, 0.6));
    }
    50% {
      filter: drop-shadow(0 0 15px rgba(139, 92, 246, 1)) drop-shadow(0 0 25px rgba(139, 92, 246, 0.9)) drop-shadow(0 0 35px rgba(139, 92, 246, 0.7));
    }
  }

  /* Navigation Menu Mobile */
  .nav-menu-mobile {
    box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3);
  }

  #nav-menu-mobile {
    transition: opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1), transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  }

  #nav-menu-mobile.nav-hidden {
    opacity: 0;
    transform: translateX(-50%) translateY(20px);
    pointer-events: none;
  }

  #nav-menu-mobile:not(.nav-hidden) {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
    animation: navMobileFadeIn 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  @keyframes navMobileFadeIn {
    0% {
      opacity: 0;
      transform: translateX(-50%) translateY(20px);
    }
    100% {
      opacity: 1;
      transform: translateX(-50%) translateY(0);
    }
  }

  .nav-link-mobile {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 44px;
    height: 44px;
    border-radius: 50%;
    color: #94a3b8;
    background: transparent;
    transition: all 0.3s ease;
    position: relative;
    text-decoration: none;
  }

  .nav-link-mobile:hover,
  .nav-link-mobile:active {
    color: #c4b5fd;
    background: rgba(139, 92, 246, 0.15);
    transform: translateY(-2px);
  }

  .nav-link-mobile.active {
    color: white;
    background: rgba(139, 92, 246, 0.3);
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.5);
  }

  .section-title {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 1.25rem;
    font-weight: 600;
    color: #e2e8f0;
    margin-bottom: 1.5rem;
    font-family: 'Orbitron', sans-serif;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .section-title::after {
    content: '';
    flex: 1;
    height: 1px;
    background: linear-gradient(90deg, rgba(139, 92, 246, 0.5), transparent);
    margin-left: 1rem;
  }

  .section-title-icon {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .section-icon {
    width: 24px;
    height: 24px;
    stroke: #c4b5fd;
    filter: drop-shadow(0 0 6px rgba(139, 92, 246, 0.6)) drop-shadow(0 0 10px rgba(139, 92, 246, 0.4));
    transition: all 0.3s ease;
  }

  .section-title:hover .section-icon {
    stroke: #a78bfa;
    filter: drop-shadow(0 0 10px rgba(139, 92, 246, 0.9)) drop-shadow(0 0 15px rgba(139, 92, 246, 0.7)) drop-shadow(0 0 20px rgba(139, 92, 246, 0.5));
    transform: scale(1.1);
  }

  .project-card {
    transition: border-color 0.2s ease, transform 0.2s ease;
  }

  .project-card:hover {
    border-color: rgba(139, 92, 246, 0.4);
    transform: translateY(-2px);
  }

  .project-card.featured {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(245, 158, 11, 0.05));
    border-color: rgba(245, 158, 11, 0.3);
  }

  .project-card.featured:hover {
    border-color: rgba(245, 158, 11, 0.5);
  }

  .project-card {
    position: relative;
    overflow: hidden;
  }

  .project-card::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(circle, rgba(139, 92, 246, 0.4) 0%, transparent 70%);
    opacity: 0;
    transform: scale(0);
    transition: none;
    pointer-events: none;
  }

  .project-card.clicking::after {
    animation: ripple-effect 0.6s ease-out forwards;
  }

  @keyframes ripple-effect {
    0% {
      opacity: 1;
      transform: scale(0);
    }
    100% {
      opacity: 0;
      transform: scale(2.5);
    }
  }

  .carousel-modal {
    position: fixed;
    inset: 0;
    z-index: 100;
    overflow: hidden;
    touch-action: none;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
  }

  .carousel-modal.active {
      opacity: 1;
    visibility: visible;
  }

  .carousel-modal.hidden {
    display: none;
  }

  .carousel-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.95);
    backdrop-filter: blur(10px);
    opacity: 0;
    overflow: hidden;
  }

  .carousel-modal.active .carousel-backdrop {
    opacity: 1;
    animation: fadeInBackdrop 0.3s ease-out forwards;
  }

  .carousel-modal.closing .carousel-backdrop {
    animation: fadeOutBackdrop 0.25s ease-in forwards;
  }

  @keyframes fadeInBackdrop {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }

  @keyframes fadeOutBackdrop {
    0% {
      opacity: 1;
    }
    100% {
      opacity: 0;
    }
  }


  .carousel-content {
    position: relative;
    z-index: 10;
    width: 100%;
    max-width: 90vw;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 20px;
    box-sizing: border-box;
    transform: scale(0.9) translateY(20px);
    opacity: 0;
    will-change: transform, opacity;
  }

  .carousel-modal.active .carousel-content {
    animation: spacePortal 0.35s ease-out forwards;
  }

  .carousel-modal.closing .carousel-content {
    animation: spacePortalClose 0.25s ease-in forwards;
  }

  @keyframes spacePortal {
    0% {
      transform: scale(0.9) translateY(20px);
      opacity: 0;
    }
    100% {
      transform: scale(1) translateY(0);
      opacity: 1;
    }
  }

  @keyframes spacePortalClose {
    0% {
      transform: scale(1) translateY(0);
      opacity: 1;
    }
    100% {
      transform: scale(0.95) translateY(10px);
      opacity: 0;
    }
  }

  .carousel-close {
    position: absolute;
    top: -40px;
    right: 0;
    color: #94a3b8;
    background: rgba(139, 92, 246, 0.2);
    border: 1px solid rgba(139, 92, 246, 0.3);
    border-radius: 50%;
    padding: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    z-index: 20;
  }

  .carousel-close:hover {
    color: white;
    background: rgba(139, 92, 246, 0.5);
    border-color: rgba(139, 92, 246, 0.8);
    transform: rotate(90deg) scale(1.1);
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.6);
  }

  .carousel-title {
    color: white;
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 0.75rem;
    font-family: 'Orbitron', sans-serif;
    text-align: center;
    flex-shrink: 0;
  }

  .carousel-container {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    width: 100%;
    max-width: 100%;
    position: relative;
  }

  .carousel-images {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    position: relative;
    background: transparent;
    border-radius: 16px;
    padding: 0;
    width: 100%;
    animation: floatCarousel 4s ease-in-out infinite;
    transform-style: preserve-3d;
    perspective: 1000px;
  }

  @keyframes floatCarousel {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-10px);
    }
  }

  .carousel-images img {
    max-width: 100%;
    max-height: 100%;
    width: auto;
    height: auto;
    object-fit: contain;
    flex-shrink: 0;
    border-radius: 12px;
    box-shadow: 0 15px 40px rgba(0, 0, 0, 0.5);
    display: block;
    will-change: transform, opacity;
    backface-visibility: hidden;
    transform: translate3d(0, 0, 0);
  }

  .carousel-images.horizontal-image {
    max-width: min(600px, 90vw);
    max-height: min(450px, 55vh);
  }

  .carousel-images.vertical-image {
    max-width: min(250px, 70vw);
    max-height: min(700px, 80vh);
  }

  /* Estilos para experiencia laboral - imágenes más grandes */
  .carousel-images.experience-carousel.horizontal-image {
    max-width: min(800px, 95vw);
    max-height: min(600px, 70vh);
  }

  .carousel-images.experience-carousel.vertical-image {
    max-width: min(350px, 80vw);
    max-height: min(850px, 85vh);
  }

  @media (max-width: 768px) {
    .carousel-images.vertical-image {
      max-width: min(220px, 70vw);
      max-height: min(650px, 75vh);
    }
    
    .carousel-images.horizontal-image {
      max-width: min(500px, 95vw);
      max-height: min(350px, 45vh);
    }

    /* Experiencia laboral en móvil */
    .carousel-images.experience-carousel.vertical-image {
      max-width: min(300px, 80vw);
      max-height: min(750px, 80vh);
    }
    
    .carousel-images.experience-carousel.horizontal-image {
      max-width: min(700px, 95vw);
      max-height: min(500px, 60vh);
    }
  }

  .carousel-images img.slide-in-right {
    animation: slideInRight 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .carousel-images img.slide-in-left {
    animation: slideInLeft 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .carousel-images img.slide-change-right {
    animation: slideChangeRight 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  }

  .carousel-images img.slide-change-left {
    animation: slideChangeLeft 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  }

  @keyframes slideChangeRight {
    0% {
      transform: translate3d(80px, 0, 0) scale3d(0.9, 0.9, 1);
      opacity: 0;
    }
    100% {
      transform: translate3d(0, 0, 0) scale3d(1, 1, 1);
      opacity: 1;
    }
  }

  @keyframes slideChangeLeft {
    0% {
      transform: translate3d(-80px, 0, 0) scale3d(0.9, 0.9, 1);
      opacity: 0;
    }
    100% {
      transform: translate3d(0, 0, 0) scale3d(1, 1, 1);
      opacity: 1;
    }
  }

  .carousel-images img.fade-in {
    animation: fadeInImage 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .carousel-modal.closing .carousel-images img {
    animation: imageFadeOut 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
  }

  @keyframes imageFadeOut {
    0% {
      transform: scale(1) translateZ(0) rotateY(0deg);
      opacity: 1;
      filter: blur(0) brightness(1);
    }
    50% {
      transform: scale(0.9) translateZ(-50px) rotateY(10deg);
      opacity: 0.6;
      filter: blur(3px) brightness(1.2);
    }
    100% {
      transform: scale(0.7) translateZ(-150px) rotateY(25deg);
      opacity: 0;
      filter: blur(8px) brightness(1.5);
    }
  }

  @keyframes slideInRight {
    0% {
      opacity: 0;
      transform: translate3d(150px, 0, 0) scale3d(0.85, 0.85, 1);
    }
    60% {
      opacity: 0.9;
      transform: translate3d(-8px, 0, 0) scale3d(1.02, 1.02, 1);
    }
    100% {
      opacity: 1;
      transform: translate3d(0, 0, 0) scale3d(1, 1, 1);
    }
  }

  @keyframes slideInLeft {
    0% {
      opacity: 0;
      transform: translate3d(-150px, 0, 0) scale3d(0.85, 0.85, 1);
    }
    60% {
      opacity: 0.9;
      transform: translate3d(8px, 0, 0) scale3d(1.02, 1.02, 1);
    }
    100% {
      opacity: 1;
      transform: translate3d(0, 0, 0) scale3d(1, 1, 1);
    }
  }

  @keyframes fadeInImage {
    0% {
      opacity: 0;
      transform: scale3d(0.8, 0.8, 1) translate3d(0, 30px, 0);
    }
    50% {
      opacity: 0.8;
      transform: scale3d(1.05, 1.05, 1) translate3d(0, -5px, 0);
    }
    100% {
      opacity: 1;
      transform: scale3d(1, 1, 1) translate3d(0, 0, 0);
    }
  }


  .carousel-nav {
    color: #94a3b8;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 50%;
    padding: 12px;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .carousel-nav:hover {
    color: white;
    background: rgba(255, 255, 255, 0.1);
  }

  .carousel-nav:active {
    transform: scale(0.95);
  }

  .carousel-indicator {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 8px;
    margin-top: 1rem;
    padding: 10px 24px;
    background: rgba(15, 15, 30, 0.95);
    border-radius: 30px;
    border: 2px solid rgba(139, 92, 246, 0.4);
    font-family: 'Orbitron', monospace;
    font-size: 1rem;
    font-weight: 600;
    flex-shrink: 0;
  }

  .carousel-indicator #carousel-current {
    color: #8b5cf6;
    font-size: 1.4rem;
    text-shadow: 0 0 10px rgba(139, 92, 246, 0.6);
  }

  .carousel-indicator .carousel-separator {
    color: rgba(148, 163, 184, 0.5);
  }

  .carousel-indicator #carousel-total {
    color: #94a3b8;
  }

  .carousel-empty {
    color: #94a3b8;
    text-align: center;
    padding: 2rem;
  }

  .carousel-empty.hidden {
    display: none;
  }

  /* Vista de detalle de proyecto */
  .carousel-view.hidden {
    display: none;
  }

  .project-detail-view {
    width: 100%;
    max-width: 85.5vw;
    max-height: 81vh;
    overflow-y: auto;
    padding: 1.8rem;
    color: white;
  }

  .project-detail-view.hidden {
    display: none;
  }

  .project-detail-container {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2.7rem;
    align-items: start;
    background: rgba(15, 15, 30, 0.95);
    border: 2px solid rgba(139, 92, 246, 0.3);
    border-radius: 1.5rem;
    padding: 2.25rem;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    touch-action: pan-y pinch-zoom;
  }

  .project-detail-image-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
  }

  .project-image-carousel-container {
    position: relative;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    touch-action: pan-y pinch-zoom;
  }

  .project-image-carousel {
    position: relative;
    width: 100%;
    max-width: 350px;
    max-height: 450px;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    border-radius: 1rem;
    background: rgba(0, 0, 0, 0.3);
    border: 2px solid rgba(16, 185, 129, 0.2);
  }

  .project-carousel-image {
    width: 100%;
    height: auto;
    max-height: 450px;
    object-fit: contain;
    border-radius: 0.75rem;
    cursor: pointer;
    transition: transform 0.2s ease;
  }

  .project-carousel-image:hover {
    transform: scale(1.02);
  }

  .project-carousel-nav {
    color: #94a3b8;
    background: rgba(139, 92, 246, 0.2);
    border: 1px solid rgba(139, 92, 246, 0.3);
    border-radius: 50%;
    padding: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    flex-shrink: 0;
    z-index: 10;
  }

  .project-carousel-nav:hover {
    color: white;
    background: rgba(139, 92, 246, 0.4);
    border-color: rgba(139, 92, 246, 0.6);
    transform: scale(1.1);
  }

  .project-image-indicator {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 8px;
    padding: 10px 24px;
    background: rgba(15, 15, 30, 0.95);
    border-radius: 30px;
    border: 2px solid rgba(139, 92, 246, 0.4);
    font-family: 'Orbitron', monospace;
    font-size: 0.9rem;
    font-weight: 600;
  }

  .project-image-indicator #project-image-current {
    color: #8b5cf6;
    font-size: 1.2rem;
    text-shadow: 0 0 10px rgba(139, 92, 246, 0.6);
  }

  .project-image-indicator .project-image-separator {
    color: rgba(148, 163, 184, 0.5);
  }

  .project-image-indicator #project-image-total {
    color: #94a3b8;
  }

  /* Carrusel de miniaturas */
  .project-thumbnails-container {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    width: 100%;
    max-width: 350px;
    margin-top: 1rem;
  }

  .project-thumbnails {
    display: flex;
    gap: 0.5rem;
    overflow-x: auto;
    overflow-y: hidden;
    scroll-behavior: smooth;
    scrollbar-width: thin;
    scrollbar-color: rgba(139, 92, 246, 0.3) transparent;
    flex: 1;
    padding: 0.25rem;
  }

  .project-thumbnails::-webkit-scrollbar {
    height: 4px;
  }

  .project-thumbnails::-webkit-scrollbar-track {
    background: transparent;
  }

  .project-thumbnails::-webkit-scrollbar-thumb {
    background: rgba(139, 92, 246, 0.3);
    border-radius: 2px;
  }

  .project-thumbnails::-webkit-scrollbar-thumb:hover {
    background: rgba(139, 92, 246, 0.5);
  }

  .project-thumbnail {
    flex-shrink: 0;
    width: 80px;
    height: 80px;
    border-radius: 0.5rem;
    overflow: hidden;
    cursor: pointer;
    border: 2px solid rgba(139, 92, 246, 0.2);
    background: rgba(0, 0, 0, 0.3);
    transition: all 0.3s ease;
    opacity: 0.6;
  }

  .project-thumbnail:hover {
    opacity: 1;
    border-color: rgba(139, 92, 246, 0.5);
    transform: scale(1.05);
  }

  .project-thumbnail.active {
    opacity: 1;
    border-color: rgba(16, 185, 129, 0.6);
    border-width: 3px;
    box-shadow: 0 0 12px rgba(16, 185, 129, 0.4);
    transform: scale(1.1);
  }

  .project-thumbnail-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .project-thumbnails-nav {
    color: #94a3b8;
    background: rgba(139, 92, 246, 0.2);
    border: 1px solid rgba(139, 92, 246, 0.3);
    border-radius: 50%;
    padding: 6px;
    cursor: pointer;
    transition: all 0.3s ease;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .project-thumbnails-nav:hover {
    color: white;
    background: rgba(139, 92, 246, 0.4);
    border-color: rgba(139, 92, 246, 0.6);
    transform: scale(1.1);
  }

  .project-thumbnails-nav:disabled {
    opacity: 0.3;
    cursor: not-allowed;
  }

  .project-detail-info-section {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .project-detail-title {
    font-size: 2rem;
    font-weight: 700;
    color: #10b981;
    margin: 0;
    font-family: 'Orbitron', sans-serif;
    text-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
  }

  .project-detail-description {
    font-size: 1rem;
    color: #cbd5e1;
    line-height: 1.6;
    margin: 0;
  }

  .project-detail-section-header {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.75rem;
    font-weight: 600;
    color: #8b5cf6;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 0.75rem;
    font-family: 'Orbitron', sans-serif;
  }

  .project-detail-section-header svg {
    width: 1rem;
    height: 1rem;
    color: #8b5cf6;
  }

  .project-detail-highlights {
    margin-bottom: 1.25rem;
  }

  .project-detail-highlights-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .project-detail-highlights-list li {
    color: #cbd5e1;
    font-size: 0.95rem;
    line-height: 1.6;
    padding: 0.5rem 0;
    padding-left: 1.5rem;
    position: relative;
  }

  .project-detail-highlights-list li::before {
    content: '•';
    position: absolute;
    left: 0.25rem;
    top: 0.5rem;
    color: #10b981;
    font-size: 1.2rem;
    line-height: 1.6;
    font-weight: bold;
  }

  .project-detail-tech {
    margin-bottom: 1.25rem;
  }

  .project-detail-tech-list {
    display: flex;
    flex-wrap: wrap;
    gap: 0.375rem;
  }

  .project-detail-buttons {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin-top: 1rem;
    width: 100%;
  }

  .project-detail-github-btn,
  .project-detail-demo-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    padding: 0.875rem 1.5rem;
    background: rgba(15, 15, 30, 0.95);
    border-radius: 0.5rem;
    color: #cbd5e1;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.3s ease;
    width: 100%;
  }

  .project-detail-github-btn {
    border: 2px solid rgba(139, 92, 246, 0.4);
  }

  .project-detail-github-btn:hover {
    background: rgba(139, 92, 246, 0.2);
    border-color: rgba(139, 92, 246, 0.6);
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
  }

  .project-detail-demo-btn {
    border: 2px solid rgba(16, 185, 129, 0.4);
  }

  .project-detail-demo-btn:hover {
    background: rgba(16, 185, 129, 0.2);
    border-color: rgba(16, 185, 129, 0.6);
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
  }

  .project-detail-github-btn svg,
  .project-detail-demo-btn svg {
    width: 1.25rem;
    height: 1.25rem;
  }

  .project-detail-github-btn.hidden,
  .project-detail-demo-btn.hidden {
    display: none;
  }

  @media (max-width: 1024px) {
    .project-detail-container {
      grid-template-columns: 1fr;
      gap: 2rem;
      padding: 2rem;
    }

    .project-detail-image-section {
      order: 1;
    }

    .project-detail-info-section {
      order: 2;
    }

    .project-image-carousel {
      max-width: 100%;
      max-height: 400px;
    }
  }

  @media (max-width: 768px) {
    .project-detail-view {
      padding: 0.9rem;
      max-width: 85.5vw;
    }

    .project-detail-container {
      padding: 1.35rem;
      gap: 1.35rem;
    }

    .project-detail-title {
      font-size: 1.5rem;
    }

    .project-detail-description {
      font-size: 0.9rem;
    }

    .project-image-carousel {
      max-height: 300px;
    }

    .project-carousel-nav {
      padding: 8px;
    }

    .project-carousel-nav svg {
      width: 1.25rem;
      height: 1.25rem;
    }
  }

  /* Modal de Certificados */
  .certification-modal {
    position: fixed;
    inset: 0;
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.4s cubic-bezier(0.34, 1.56, 0.64, 1), visibility 0.4s ease;
  }

  .certification-modal.active {
    opacity: 1;
    visibility: visible;
  }

  .certification-modal.hidden {
    display: none;
  }

  .certification-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.95);
    backdrop-filter: blur(12px);
    opacity: 0;
    transition: opacity 0.4s ease;
  }

  .certification-modal.active .certification-backdrop {
    opacity: 1;
  }

  .certification-content {
    position: relative;
    z-index: 10;
    width: 100%;
    max-width: 85vw;
    max-height: 85vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 30px 20px;
    box-sizing: border-box;
    transform: scale(0.3) rotateY(90deg);
    opacity: 0;
    transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.4s ease;
  }

  .certification-modal.active .certification-content {
    transform: scale(1) rotateY(0deg);
    opacity: 1;
  }

  .certification-close {
    position: absolute;
    top: -50px;
    right: 0;
    color: #94a3b8;
    background: rgba(139, 92, 246, 0.3);
    border: 2px solid rgba(139, 92, 246, 0.5);
    border-radius: 50%;
    padding: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    z-index: 20;
  }

  .certification-close:hover {
    color: white;
    background: rgba(139, 92, 246, 0.5);
    border-color: rgba(139, 92, 246, 0.8);
    transform: rotate(90deg) scale(1.1);
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.6);
  }

  .certification-title {
    color: white;
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 1.5rem;
    font-family: 'Orbitron', sans-serif;
    text-align: center;
    text-shadow: 0 0 20px rgba(139, 92, 246, 0.5);
    opacity: 0;
    transform: translateY(-20px);
    transition: opacity 0.5s ease 0.3s, transform 0.5s ease 0.3s;
  }

  .certification-modal.active .certification-title {
    opacity: 1;
    transform: translateY(0);
  }

  .certification-image-container {
    position: relative;
    width: 100%;
    max-width: 750px;
    display: flex;
    align-items: center;
    justify-content: center;
    perspective: 1000px;
  }

  .certification-image {
    max-width: 100%;
    max-height: 70vh;
    width: auto;
    height: auto;
    object-fit: contain;
    border-radius: 16px;
    box-shadow: 
      0 25px 50px rgba(0, 0, 0, 0.8),
      0 0 60px rgba(139, 92, 246, 0.4),
      0 0 100px rgba(139, 92, 246, 0.2);
    filter: brightness(1.05) contrast(1.05);
    border: 3px solid rgba(139, 92, 246, 0.3);
    background: rgba(255, 255, 255, 0.05);
    padding: 10px;
  }

  .certification-zoom-in {
    animation: certificationZoomIn 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  .certification-zoom-out {
    animation: certificationZoomOut 0.4s cubic-bezier(0.55, 0.055, 0.675, 0.19) forwards;
  }

  @keyframes certificationZoomIn {
    0% {
      transform: scale(0.2) rotateZ(-15deg) rotateY(45deg);
      opacity: 0;
      filter: blur(20px) brightness(2);
      box-shadow: 0 0 0 rgba(139, 92, 246, 0);
    }
    50% {
      transform: scale(1.1) rotateZ(5deg) rotateY(-5deg);
      filter: blur(5px) brightness(1.3);
      box-shadow: 0 20px 40px rgba(139, 92, 246, 0.3);
    }
    100% {
      transform: scale(1) rotateZ(0deg) rotateY(0deg);
      opacity: 1;
      filter: blur(0) brightness(1.05);
      box-shadow: 
        0 25px 50px rgba(0, 0, 0, 0.8),
        0 0 60px rgba(139, 92, 246, 0.4),
        0 0 100px rgba(139, 92, 246, 0.2);
    }
  }

  @keyframes certificationZoomOut {
    0% {
      transform: scale(1) rotateZ(0deg);
      opacity: 1;
    }
    100% {
      transform: scale(0.3) rotateZ(15deg) rotateY(-45deg);
      opacity: 0;
      filter: blur(15px) brightness(2);
    }
  }

  @media (max-width: 768px) {
    .certification-content {
      padding: 20px 15px;
      max-width: 90vw;
      max-height: 85vh;
    }

    .certification-title {
      font-size: 1.2rem;
      margin-bottom: 1rem;
    }

    .certification-image-container {
      max-width: 100%;
    }

    .certification-image {
      max-height: 65vh;
      padding: 5px;
    }

    .certification-close {
      top: -40px;
      padding: 8px;
    }
  }

  /* Modal de Imagen Ampliada */
  .image-zoom-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
  }

  .image-zoom-modal.active {
    opacity: 1;
    pointer-events: all;
  }

  .image-zoom-modal.hidden {
    display: none;
  }

  .image-zoom-backdrop {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.95);
    backdrop-filter: blur(10px);
    animation: fadeInBackdrop 0.3s ease forwards;
  }

  .image-zoom-content {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1;
    padding: 2rem;
  }

  .image-zoom-close {
    position: absolute;
    top: 1.5rem;
    right: 1.5rem;
    background: rgba(139, 92, 246, 0.2);
    border: 1px solid rgba(139, 92, 246, 0.4);
    border-radius: 50%;
    width: 3rem;
    height: 3rem;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #c4b5fd;
    cursor: pointer;
    transition: all 0.3s ease;
    z-index: 10;
  }

  .image-zoom-close:hover {
    background: rgba(139, 92, 246, 0.3);
    border-color: rgba(139, 92, 246, 0.6);
    transform: rotate(90deg) scale(1.1);
  }

  .image-zoom-container {
    position: relative;
    width: 100%;
    max-width: 90vw;
    max-height: 90vh;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .image-zoom-image {
    max-width: 100%;
    max-height: 90vh;
    width: auto;
    height: auto;
    object-fit: contain;
    border-radius: 16px;
    box-shadow: 
      0 25px 50px rgba(0, 0, 0, 0.8),
      0 0 60px rgba(139, 92, 246, 0.4);
    animation: imageZoomIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }

  .image-zoom-nav {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: rgba(139, 92, 246, 0.2);
    border: 1px solid rgba(139, 92, 246, 0.4);
    border-radius: 50%;
    width: 3.5rem;
    height: 3.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #c4b5fd;
    cursor: pointer;
    transition: all 0.3s ease;
    z-index: 10;
  }

  .image-zoom-nav:hover {
    background: rgba(139, 92, 246, 0.3);
    border-color: rgba(139, 92, 246, 0.6);
    transform: translateY(-50%) scale(1.1);
  }

  .image-zoom-prev {
    left: 2rem;
  }

  .image-zoom-next {
    right: 2rem;
  }

  .image-zoom-indicator {
    position: absolute;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(10, 10, 20, 0.8);
    border: 1px solid rgba(139, 92, 246, 0.3);
    border-radius: 9999px;
    padding: 0.5rem 1rem;
    color: #c4b5fd;
    font-size: 0.875rem;
    font-weight: 500;
    z-index: 10;
  }

  .image-zoom-separator {
    margin: 0 0.5rem;
    opacity: 0.6;
  }

  @keyframes imageZoomIn {
    0% {
      transform: scale(0.8);
      opacity: 0;
    }
    100% {
      transform: scale(1);
      opacity: 1;
    }
  }

  @media (max-width: 768px) {
    .image-zoom-nav {
      width: 2.5rem;
      height: 2.5rem;
    }

    .image-zoom-prev {
      left: 1rem;
    }

    .image-zoom-next {
      right: 1rem;
    }

    .image-zoom-close {
      top: 1rem;
      right: 1rem;
      width: 2.5rem;
      height: 2.5rem;
    }

    .image-zoom-indicator {
      bottom: 1rem;
    }
  }

  /* Estilos del Modal de Contacto */
  .contact-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
  }

  .contact-modal.active {
    opacity: 1;
    pointer-events: all;
  }

  .contact-modal.hidden {
    display: none;
  }

  .contact-modal-backdrop {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.85);
    backdrop-filter: blur(8px);
    animation: fadeInBackdrop 0.3s ease forwards;
  }

  .contact-modal-content {
    position: relative;
    background: rgba(10, 10, 20, 0.95);
    border: 1px solid rgba(139, 92, 246, 0.3);
    border-radius: 16px;
    padding: 2rem;
    max-width: 500px;
    width: 90%;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 
      0 25px 50px rgba(0, 0, 0, 0.8),
      0 0 60px rgba(139, 92, 246, 0.4);
    animation: contactModalSlideIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
    z-index: 1;
  }

  .contact-modal-close {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: rgba(139, 92, 246, 0.15);
    border: 1px solid rgba(139, 92, 246, 0.3);
    border-radius: 50%;
    width: 2.5rem;
    height: 2.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #c4b5fd;
    cursor: pointer;
    transition: all 0.3s ease;
    z-index: 10;
  }

  .contact-modal-close:hover {
    background: rgba(139, 92, 246, 0.3);
    border-color: rgba(139, 92, 246, 0.5);
    transform: rotate(90deg) scale(1.1);
  }

  .contact-modal-title {
    font-size: 1.75rem;
    font-weight: bold;
    color: #f8fafc;
    margin-bottom: 1.5rem;
    text-align: center;
    background: linear-gradient(135deg, #f8fafc 0%, #c4b5fd 50%, #67e8f9 100%);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  .contact-form {
    display: flex;
    flex-direction: column;
    gap: 1.25rem;
  }

  .contact-form-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .contact-form-label {
    font-size: 0.875rem;
    font-weight: 500;
    color: #c4b5fd;
  }

  .contact-form-input,
  .contact-form-textarea {
    background: rgba(10, 10, 20, 0.9);
    border: 1px solid rgba(139, 92, 246, 0.2);
    border-radius: 8px;
    padding: 0.75rem;
    color: #f8fafc !important;
    font-size: 0.875rem;
    transition: all 0.3s ease;
    font-family: inherit;
  }

  .contact-form-input::placeholder,
  .contact-form-textarea::placeholder {
    color: rgba(203, 213, 225, 0.5);
  }

  .contact-form-input:focus,
  .contact-form-textarea:focus {
    outline: none;
    border-color: rgba(139, 92, 246, 0.6);
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.15);
    background: rgba(10, 10, 20, 0.95);
    color: #f8fafc !important;
  }

  .contact-form-input:not(:placeholder-shown),
  .contact-form-textarea:not(:placeholder-shown) {
    color: #f8fafc !important;
    background: rgba(10, 10, 20, 0.95);
  }

  .contact-form-textarea {
    resize: vertical;
    min-height: 120px;
  }

  .contact-form-submit {
    background: rgba(139, 92, 246, 0.25);
    border: 1px solid rgba(139, 92, 246, 0.4);
    border-radius: 8px;
    padding: 0.875rem 1.5rem;
    color: #f8fafc;
    font-weight: 600;
    font-size: 0.875rem;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    margin-top: 0.5rem;
    position: relative;
    min-height: 2.75rem;
  }

  .contact-form-submit:hover:not(:disabled) {
    background: rgba(139, 92, 246, 0.35);
    border-color: rgba(139, 92, 246, 0.6);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
  }

  .contact-form-submit:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }

  .contact-form-loader {
    display: none;
  }

  .contact-form-loader:not(.hidden) {
    display: inline-flex;
  }

  #contact-submit-text {
    display: inline;
  }

  #contact-submit-text[style*="display: none"] {
    display: none !important;
  }

  .contact-form-message {
    padding: 1rem;
    border-radius: 8px;
    text-align: center;
    font-size: 0.875rem;
    font-weight: 500;
    margin-top: 0.5rem;
    animation: messageSlideIn 0.3s ease forwards;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
  }

  .contact-form-message.hidden {
    display: none;
  }

  .contact-form-message.success {
    background: rgba(34, 197, 94, 0.2);
    border: 1px solid rgba(34, 197, 94, 0.5);
    color: #86efac;
    box-shadow: 0 0 20px rgba(34, 197, 94, 0.2);
  }

  .contact-form-message.success::before {
    content: '✓';
    display: inline-block;
    width: 1.25rem;
    height: 1.25rem;
    background: rgba(34, 197, 94, 0.3);
    border-radius: 50%;
    line-height: 1.25rem;
    font-weight: bold;
    font-size: 0.75rem;
  }

  .contact-form-message.error {
    background: rgba(239, 68, 68, 0.2);
    border: 1px solid rgba(239, 68, 68, 0.5);
    color: #fca5a5;
    box-shadow: 0 0 20px rgba(239, 68, 68, 0.2);
  }

  .contact-form-message.error::before {
    content: '✕';
    display: inline-block;
    width: 1.25rem;
    height: 1.25rem;
    background: rgba(239, 68, 68, 0.3);
    border-radius: 50%;
    line-height: 1.25rem;
    font-weight: bold;
    font-size: 0.75rem;
  }

  @keyframes messageSlideIn {
    0% {
      opacity: 0;
      transform: translateY(-10px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes contactModalSlideIn {
    0% {
      transform: scale(0.8) translateY(20px);
      opacity: 0;
    }
    100% {
      transform: scale(1) translateY(0);
      opacity: 1;
    }
  }

  @media (max-width: 640px) {
    .contact-modal-content {
      padding: 1.5rem;
      width: 95%;
    }

    .contact-modal-title {
      font-size: 1.5rem;
    }
  }
</style>

<script is:inline>
  let currentSlide = 0;
  let currentImages = [];
  let currentProjectSlide = 0;
  let currentProjectImages = [];
  let lastMousePosition = { x: 0, y: 0 };
  
  // Guardar última posición del mouse
  document.addEventListener('mousemove', function(e) {
    lastMousePosition.x = e.clientX;
    lastMousePosition.y = e.clientY;
  });

  // Funciones para carrusel de proyectos (deben estar fuera de DOMContentLoaded)
  function updateProjectSlide() {
    const projectImageCarousel = document.getElementById('project-image-carousel');
    const projectImageCurrent = document.getElementById('project-image-current');
    const projectThumbnails = document.getElementById('project-thumbnails');
    
    if (!projectImageCarousel || currentProjectImages.length === 0) return;
    
    const images = projectImageCarousel.querySelectorAll('.project-carousel-image');
    images.forEach((img, i) => {
      img.style.display = i === currentProjectSlide ? 'block' : 'none';
    });
    
    // Actualizar miniaturas activas
    if (projectThumbnails) {
      const thumbnails = projectThumbnails.querySelectorAll('.project-thumbnail');
      thumbnails.forEach((thumb, i) => {
        if (i === currentProjectSlide) {
          thumb.classList.add('active');
          // Scroll a la miniatura activa solo dentro del contenedor, sin afectar la página
          const thumbLeft = thumb.offsetLeft;
          const thumbWidth = thumb.offsetWidth;
          const containerWidth = projectThumbnails.clientWidth;
          
          // Calcular la posición de scroll para centrar la miniatura
          const targetScroll = thumbLeft - (containerWidth / 2) + (thumbWidth / 2);
          
          projectThumbnails.scrollTo({
            left: targetScroll,
            behavior: 'smooth'
          });
        } else {
          thumb.classList.remove('active');
        }
      });
    }
    
    if (projectImageCurrent) {
      projectImageCurrent.textContent = currentProjectSlide + 1;
    }
  }
  
  function scrollThumbnails(direction, e) {
    if (e) {
      e.preventDefault();
      e.stopPropagation();
    }
    const projectThumbnails = document.getElementById('project-thumbnails');
    if (!projectThumbnails) return;
    
    const scrollAmount = 120; // Ancho aproximado de una miniatura + gap
    const currentScroll = projectThumbnails.scrollLeft;
    const newScroll = direction === 'next' 
      ? currentScroll + scrollAmount 
      : currentScroll - scrollAmount;
    
    projectThumbnails.scrollTo({
      left: newScroll,
      behavior: 'smooth'
    });
  }
  
  function prevProjectSlide(e) {
    if (e) {
      e.preventDefault();
      e.stopPropagation();
    }
    if (currentProjectImages.length === 0) return;
    currentProjectSlide = (currentProjectSlide - 1 + currentProjectImages.length) % currentProjectImages.length;
    updateProjectSlide();
  }
  
  function nextProjectSlide(e) {
    if (e) {
      e.preventDefault();
      e.stopPropagation();
    }
    if (currentProjectImages.length === 0) return;
    currentProjectSlide = (currentProjectSlide + 1) % currentProjectImages.length;
    updateProjectSlide();
  }

  // Funciones del carrusel
  // Variables para el modal de imagen ampliada
  let currentZoomImages = [];
  let currentZoomIndex = 0;

  function openImageZoom(images, index, title) {
    const modal = document.getElementById('image-zoom-modal');
    const zoomImg = document.getElementById('image-zoom-img');
    const zoomCurrent = document.getElementById('image-zoom-current');
    const zoomTotal = document.getElementById('image-zoom-total');
    
    if (!modal || !zoomImg) return;
    
    currentZoomImages = images;
    currentZoomIndex = index;
    
    if (zoomImg) {
      zoomImg.src = images[index];
      zoomImg.alt = `${title} - Imagen ${index + 1}`;
    }
    
    if (zoomCurrent) zoomCurrent.textContent = index + 1;
    if (zoomTotal) zoomTotal.textContent = images.length;
    
    // Prevenir scroll de la página
    const scrollY = window.scrollY;
    document.body.style.overflow = 'hidden';
    document.body.style.position = 'fixed';
    document.body.style.width = '100%';
    document.body.style.top = `-${scrollY}px`;
    
    modal.classList.remove('hidden');
    requestAnimationFrame(function() {
      requestAnimationFrame(function() {
        modal.classList.add('active');
        
        // Forzar actualización del cursor después de que el body se haya movido
        setTimeout(function() {
          const mouseEvent = new MouseEvent('mousemove', {
            clientX: lastMousePosition.x,
            clientY: lastMousePosition.y + scrollY,
            bubbles: true,
            cancelable: true
          });
          document.dispatchEvent(mouseEvent);
        }, 50);
      });
    });
  }

  function closeImageZoom() {
    const modal = document.getElementById('image-zoom-modal');
    if (modal) {
      modal.classList.remove('active');
      setTimeout(function() {
        modal.classList.add('hidden');
        // Restaurar scroll de la página
        document.body.style.overflow = '';
        document.body.style.position = '';
        document.body.style.width = '';
        const scrollY = document.body.style.top;
        document.body.style.top = '';
        if (scrollY) {
          window.scrollTo(0, parseInt(scrollY || '0') * -1);
        }
        
        // Forzar actualización del cursor después de restaurar el scroll
        setTimeout(function() {
          const scrollOffset = parseInt(scrollY || '0') * -1;
          const mouseEvent = new MouseEvent('mousemove', {
            clientX: lastMousePosition.x,
            clientY: lastMousePosition.y - scrollOffset,
            bubbles: true,
            cancelable: true
          });
          document.dispatchEvent(mouseEvent);
        }, 50);
      }, 300);
    }
  }

  function nextZoomImage() {
    if (currentZoomImages.length === 0) return;
    currentZoomIndex = (currentZoomIndex + 1) % currentZoomImages.length;
    updateZoomImage();
  }

  function prevZoomImage() {
    if (currentZoomImages.length === 0) return;
    currentZoomIndex = (currentZoomIndex - 1 + currentZoomImages.length) % currentZoomImages.length;
    updateZoomImage();
  }

  function updateZoomImage() {
    const zoomImg = document.getElementById('image-zoom-img');
    const zoomCurrent = document.getElementById('image-zoom-current');
    
    if (zoomImg && currentZoomImages[currentZoomIndex]) {
      zoomImg.style.opacity = '0';
      setTimeout(function() {
        zoomImg.src = currentZoomImages[currentZoomIndex];
        zoomImg.style.opacity = '1';
        if (zoomCurrent) zoomCurrent.textContent = currentZoomIndex + 1;
      }, 150);
    }
  }

  function closeCarousel() {
    const modal = document.getElementById('carousel-modal');
    if (modal) {
      // Agregar clase de cierre para animación suave
      modal.classList.add('closing');
      modal.classList.remove('active');
      // Restaurar scroll de la página
      const scrollY = document.body.style.top;
      document.body.style.overflow = '';
      document.body.style.position = '';
      document.body.style.width = '';
      document.body.style.top = '';
      if (scrollY) {
        window.scrollTo(0, parseInt(scrollY || '0') * -1);
      }
      
      // Forzar actualización del cursor después de restaurar el scroll
      setTimeout(function() {
        const mouseEvent = new MouseEvent('mousemove', {
          clientX: window.event ? window.event.clientX : 0,
          clientY: window.event ? window.event.clientY : 0,
          bubbles: true,
          cancelable: true
        });
        document.dispatchEvent(mouseEvent);
      }, 50);
      
      setTimeout(function() {
        modal.classList.remove('closing');
        modal.classList.add('hidden');
        
        // Limpiar animaciones de imágenes
        const imagesContainer = document.getElementById('carousel-images');
        if (imagesContainer) {
          const images = imagesContainer.querySelectorAll('img');
          images.forEach(img => {
            img.style.animation = '';
          });
        }
        
        // Resetear vistas
        const projectView = document.getElementById('project-detail-view');
        const carouselView = document.getElementById('carousel-view');
        if (projectView) projectView.classList.add('hidden');
        if (carouselView) carouselView.classList.remove('hidden');
        
        // Mostrar menú y selector de idioma después de que el modal se cierre
        const langSelector = document.getElementById('language-selector');
        const navDesktop = document.getElementById('nav-menu-desktop');
        const navMobile = document.getElementById('nav-menu-mobile');
        if (langSelector) {
          langSelector.style.opacity = '1';
          langSelector.style.pointerEvents = '';
        }
        if (navDesktop) {
          navDesktop.classList.remove('nav-hidden');
        }
        if (navMobile) {
          navMobile.classList.remove('nav-hidden');
        }
      }, 500);
    }
  }

  let slideDirection = 'right';

  function prevSlide() {
    if (currentImages.length === 0) return;
    slideDirection = 'left';
    currentSlide = (currentSlide - 1 + currentImages.length) % currentImages.length;
    updateSlide();
  }

  function nextSlide() {
    if (currentImages.length === 0) return;
    slideDirection = 'right';
    currentSlide = (currentSlide + 1) % currentImages.length;
    updateSlide();
  }

  function goToSlide(index) {
    if (index === currentSlide) return;
    slideDirection = index > currentSlide ? 'right' : 'left';
    currentSlide = index;
    updateSlide();
  }

  function detectImageOrientation(img, container) {
    if (!img || !container) return;
    
    const aspectRatio = img.naturalWidth / img.naturalHeight;
    if (aspectRatio > 1) {
      container.classList.add('horizontal-image');
      container.classList.remove('vertical-image');
    } else {
      container.classList.add('vertical-image');
      container.classList.remove('horizontal-image');
    }
  }

  function updateSlide() {
    const imagesContainer = document.getElementById('carousel-images');
    const currentIndicator = document.getElementById('carousel-current');
    
    if (!imagesContainer) return;
    
    const images = imagesContainer.querySelectorAll('img');
    
    imagesContainer.classList.add('transitioning');
    setTimeout(function() {
      imagesContainer.classList.remove('transitioning');
    }, 400);
    
    images.forEach((img, i) => {
      if (i === currentSlide) {
        // Primero ocultar todas las imágenes
        images.forEach(img => {
          img.style.display = 'none';
        });
        
        // Mostrar la imagen actual
        img.style.display = 'block';
        
        if (img.complete) {
          detectImageOrientation(img, imagesContainer);
        } else {
          img.onload = function() {
            detectImageOrientation(this, imagesContainer);
          };
        }
        
        // Remover todas las clases de animación anteriores y estilos inline
        img.classList.remove('slide-in-right', 'slide-in-left', 'fade-in', 'slide-change-right', 'slide-change-left');
        img.style.transform = '';
        img.style.opacity = '';
        img.style.filter = '';
        img.style.transition = '';
        img.style.animation = '';
        
        // Forzar reflow para reiniciar animación
        void img.offsetWidth;
        
        // Aplicar animación breve de cambio con un pequeño delay para asegurar que se ejecute
        setTimeout(function() {
          img.classList.add(slideDirection === 'right' ? 'slide-change-right' : 'slide-change-left');
        }, 10);
      } else {
        img.style.display = 'none';
      }
    });
    if (currentIndicator) {
      currentIndicator.textContent = currentSlide + 1;
    }
  }

  function openCarousel(title, images, isExperience = false, projectData = null) {
    const modal = document.getElementById('carousel-modal');
    const projectView = document.getElementById('project-detail-view');
    const carouselView = document.getElementById('carousel-view');
    
    if (!modal) return;
    
    // Si tiene datos del proyecto (proyectos personales, experiencia o freelance), mostrar la nueva interfaz
    if (projectData) {
      // Ocultar vista de carrusel, mostrar vista de proyecto
      if (carouselView) carouselView.classList.add('hidden');
      if (projectView) projectView.classList.remove('hidden');
      
      // Llenar datos del proyecto
      const projectTitle = document.getElementById('project-detail-title');
      const projectDescription = document.getElementById('project-detail-description');
      const projectHighlights = document.getElementById('project-detail-highlights-list');
      const projectTech = document.getElementById('project-detail-tech-list');
      const projectGithub = document.getElementById('project-detail-github');
      const projectDemo = document.getElementById('project-detail-demo');
      
      if (projectTitle) {
        // Si hay company, mostrar título y compañía
        if (projectData.company) {
          projectTitle.textContent = `${projectData.title || title} · ${projectData.company}`;
        } else {
          projectTitle.textContent = projectData.title || title;
        }
      }
      if (projectDescription) projectDescription.textContent = projectData.description || '';
      
      // Puntos destacados específicos por proyecto
      if (projectHighlights) {
        const projectId = projectData.id || '';
        let highlights = [];
        
        // Mapeo de detalles destacados específicos por proyecto
        const projectHighlightsMap = {
          // Proyectos personales
          'assistvision': [
            '-Detección de textos, rostros, colores y billetes mexicanos en tiempo real.',
            '-Modelo de IA entrenado por nosotros mismos.'
          ],
          'trust': [
            '-Mecánicas de plataformas únicas con sistema de física personalizado.',
            '-Diseño de niveles progresivo y desafiante.',
            '-Experiencia de juego fluida y optimizada.'
          ],
          'memorydev': [
            '-Sincronización y guardado en la nube con Google Cloud.',
            '-Gestión de tareas, notas, diagramas, etc.',
            '-Interfaz intuitiva y moderna.'
          ],
          'sussyai': [
            '-Integración con Gemini AI para conversaciones naturales.',
            '-Ejercicios interactivos y seguimiento de progreso en el aprendizaje.',
            '-Funció de voz para escuchar pronunciaciones.'
          ],
          'datasaints': [
            '-Diseño moderno y responsivo con animaciones fluidas.',
            '-Optimizado para SEO y rendimiento.',
            '-Interfaz profesional para servicios de desarrollo.'
          ],
          'eepediaz': [
            '-Sistema de autenticación con Google.',
            '-Foros de discusión, tutoriales paso a paso y comunidad activa.',
            '-Plataforma completa para jugadores de Call of Duty Zombies.'
          ],
          // Experiencia laboral
          'vector': [
            '-Coordinación de sprints y seguimiento de métricas de rendimiento del equipo.',
            '-Análisis de requerimientos funcionales y técnicos para nuevas funcionalidades.',
            '-Comunicación constante con clientes y equipos multidisciplinarios.',
            '-Gestión de backlog y priorización de tareas según objetivos del negocio.'
          ],
          'petravia': [
            '-Desarrollo de sistema completo para gestión de bitácoras de mantenimiento de maquinaria.',
            '-Roles y permisos para el sistema de administración.',
            '-Despliegue y mantenimiento en infraestructura AWS.'
          ],
          // Proyectos Freelance
          'vector-evaluaciones': [
            '-Sistema completo de evaluaciones con métricas de efectividad en tiempo real.',
            '-Interfaz intuitiva para captura de retroalimentación de los usuarios finales.',
            '-Dashboard administrativo con reportes y análisis de datos.',
            '-Integración con sistemas internos existentes de la empresa.'
          ],
          'makarenko': [
            '-Sistema de registro y control de desayunos escolares con reportes automáticos.',
            '-Gestión de usuarios, permisos y roles administrativos.',
            '-Módulo de consultas y estadísticas para toma de decisiones.',
            '-Soporte técnico continuo y actualizaciones según necesidades del cliente.'
          ],
          'dif': [
            '-Gestión de recursos en base de datos para el sistema de soporte público.',
            '-Coordinación de sprints con metodología Scrum.',
            '-Recolección y documentación de requerimientos de usuarios finales.',
            '-Trabajo colaborativo con equipo de desarrollo en implementación de soluciones.'
          ]
        };
        
        // Si hay highlights específicos para este proyecto, usarlos
        if (projectHighlightsMap[projectId]) {
          highlights = projectHighlightsMap[projectId];
        } else {
          // Si no hay highlights específicos, extraer de la descripción
          const desc = projectData.description || '';
          
          // Intentar dividir por puntos o crear puntos destacados inteligentes
          if (desc.includes('. ')) {
            // Dividir por puntos y filtrar frases vacías
            highlights = desc.split('. ').filter(h => h.trim().length > 0 && !h.match(/^[🏆🚧]/));
          } else if (desc.includes(',')) {
            // Dividir por comas si no hay puntos
            highlights = desc.split(',').filter(h => h.trim().length > 0).slice(0, 3);
          } else {
            // Si no hay separadores, usar la descripción completa
            highlights = [desc];
          }
          
          // Limpiar y limitar a 3-4 puntos destacados
          highlights = highlights
            .map(h => h.trim().replace(/^[🏆🚧]/, '').trim())
            .filter(h => h.length > 10)
            .slice(0, 4);
          
          // Si no hay highlights válidos, usar la descripción completa
          if (highlights.length === 0) {
            highlights = [desc];
          }
        }
        
        projectHighlights.innerHTML = highlights.map(h => `<li>${h}</li>`).join('');
      }
      
      // Mostrar tecnologías con iconos (mismo estilo que en otros apartados)
      if (projectTech && projectData.technologies) {
        const techs = Array.isArray(projectData.technologies) ? projectData.technologies : JSON.parse(projectData.technologies);
        projectTech.innerHTML = techs.map(tech => {
          // Función getTechIcon está disponible globalmente
          const techIconMap = {
            'Flutter': '/tech-icons/flutter.png',
            'Dart': '/tech-icons/flutter.png',
            'TensorFlow Lite': '/tech-icons/python.svg',
            'YOLO': '/tech-icons/python.svg',
            'Unity': '/tech-icons/unity.png',
            'C#': '/tech-icons/csharp.png',
            'Google Cloud': '/tech-icons/google-cloud.png',
            'Gemini AI': '/tech-icons/google-cloud.png',
            'Google Sign-In': '/tech-icons/google-cloud.png',
            'Firebase': '/tech-icons/firebase.png',
            'React': '/tech-icons/react.svg',
            'Vite': '/tech-icons/vite.png',
            'Tailwind': '/tech-icons/tailwind.svg',
            'JavaScript': '/tech-icons/javascript.svg',
            'TypeScript': '/tech-icons/typescript.png',
            'HTML': '/tech-icons/html.svg',
            'CSS': '/tech-icons/css.png',
            'PHP': '/tech-icons/php.png',
            'MySQL': '/tech-icons/mysql.svg',
            'AWS': '/tech-icons/aws.png',
            'SQLite': '/tech-icons/sqlite.png'
          };
          const iconPath = techIconMap[tech] || null;
          const iconHtml = iconPath ? `<img src="${iconPath}" alt="${tech}" class="w-3 h-3 object-contain">` : '';
          return `<span class="text-[0.7rem] px-1.5 py-0.5 rounded-full bg-violet-500/10 text-violet-300 border border-violet-500/20 inline-flex items-center gap-1">${iconHtml}${tech}</span>`;
        }).join('');
      }
      
      // Configurar carrusel de imágenes del proyecto
      const projectImageCarousel = document.getElementById('project-image-carousel');
      const projectImageCurrent = document.getElementById('project-image-current');
      const projectImageTotal = document.getElementById('project-image-total');
      const projectImageIndicator = document.getElementById('project-image-indicator');
      const projectThumbnails = document.getElementById('project-thumbnails');
      const projectThumbnailsContainer = document.getElementById('project-thumbnails-container');
      
      if (images && images.length > 0) {
        currentProjectImages = images;
        currentProjectSlide = 0;
        
        if (projectImageCarousel) {
          projectImageCarousel.innerHTML = images.map((src, i) => 
            `<img src="${src}" alt="${title} - Imagen ${i + 1}" class="project-carousel-image cursor-pointer" style="display: ${i === 0 ? 'block' : 'none'}" data-image-index="${i}">`
          ).join('');
          
          // Agregar event listeners para hacer click en las imágenes y ampliarlas
          projectImageCarousel.querySelectorAll('.project-carousel-image').forEach((img, i) => {
            img.addEventListener('click', function() {
              openImageZoom(images, i, title);
            });
          });
        }
        
        // Crear miniaturas
        if (projectThumbnails) {
          projectThumbnails.innerHTML = images.map((src, i) => 
            `<div class="project-thumbnail ${i === 0 ? 'active' : ''}" data-index="${i}">
              <img src="${src}" alt="${title} - Miniatura ${i + 1}" class="project-thumbnail-image">
            </div>`
          ).join('');
          
          // Agregar event listeners a las miniaturas
          projectThumbnails.querySelectorAll('.project-thumbnail').forEach((thumb, i) => {
            // Usar un solo handler para click y touch
            const handleThumbClick = function(e) {
              e.preventDefault();
              e.stopPropagation();
              currentProjectSlide = i;
              updateProjectSlide();
            };
            
            thumb.addEventListener('click', handleThumbClick);
            // Para touch, usar touchend en lugar de touchstart para evitar el warning
            thumb.addEventListener('touchend', function(e) {
              e.preventDefault();
              e.stopPropagation();
              handleThumbClick(e);
            });
          });
        }
        
        if (projectImageCurrent) projectImageCurrent.textContent = '1';
        if (projectImageTotal) projectImageTotal.textContent = images.length;
        if (projectImageIndicator) projectImageIndicator.style.display = 'flex';
        if (projectThumbnailsContainer) projectThumbnailsContainer.style.display = 'flex';
      } else {
        if (projectImageCarousel) projectImageCarousel.innerHTML = '';
        if (projectImageIndicator) projectImageIndicator.style.display = 'none';
        if (projectThumbnailsContainer) projectThumbnailsContainer.style.display = 'none';
      }
      
      // Mostrar botón de GitHub si existe
      if (projectGithub) {
        if (projectData.github) {
          projectGithub.href = projectData.github;
          projectGithub.classList.remove('hidden');
        } else {
          projectGithub.classList.add('hidden');
        }
      }
      
      // Mostrar botón de Demo si existe
      if (projectDemo) {
        if (projectData.url) {
          projectDemo.href = projectData.url;
          projectDemo.classList.remove('hidden');
        } else {
          projectDemo.classList.add('hidden');
        }
      }
    } else {
      // Mostrar vista de carrusel original para experiencia laboral
      if (projectView) projectView.classList.add('hidden');
      if (carouselView) carouselView.classList.remove('hidden');
      
      const titleEl = document.getElementById('carousel-title');
      const imagesContainer = document.getElementById('carousel-images');
      const currentIndicator = document.getElementById('carousel-current');
      const totalIndicator = document.getElementById('carousel-total');
      const indicatorContainer = document.getElementById('carousel-indicator');
      const emptyMsg = document.getElementById('carousel-empty');
      
      if (!titleEl || !imagesContainer || !emptyMsg) return;
      
      titleEl.textContent = title;
      currentSlide = 0;
      currentImages = images;
      
      // Agregar o quitar clase para experiencia laboral
      if (isExperience) {
        imagesContainer.classList.add('experience-carousel');
      } else {
        imagesContainer.classList.remove('experience-carousel');
      }
      
      if (images.length === 0) {
        imagesContainer.innerHTML = '';
        if (indicatorContainer) indicatorContainer.style.display = 'none';
        emptyMsg.classList.remove('hidden');
        imagesContainer.removeAttribute('data-project');
      } else {
        emptyMsg.classList.add('hidden');
        if (indicatorContainer) indicatorContainer.style.display = 'flex';
        
        imagesContainer.setAttribute('data-project', title.toLowerCase());
        
        imagesContainer.innerHTML = images.map((src, i) => 
          '<img src="' + src + '" alt="' + title + ' - Imagen ' + (i + 1) + '" class="' + (i === 0 ? 'fade-in' : '') + '" style="display: ' + (i === 0 ? 'block' : 'none') + '">'
        ).join('');
        
        imagesContainer.querySelectorAll('img').forEach(function(img) {
          if (img.complete) {
            detectImageOrientation(img, imagesContainer);
          } else {
            img.onload = function() {
              detectImageOrientation(this, imagesContainer);
            };
          }
        });
        
        if (currentIndicator) currentIndicator.textContent = '1';
        if (totalIndicator) totalIndicator.textContent = images.length;
      }
    }
    
    // Ocultar menú y selector de idioma ANTES de mostrar el modal
    const langSelector = document.getElementById('language-selector');
    const navDesktop = document.getElementById('nav-menu-desktop');
    const navMobile = document.getElementById('nav-menu-mobile');
    if (langSelector) {
      langSelector.style.opacity = '0';
      langSelector.style.pointerEvents = 'none';
    }
    if (navDesktop) {
      navDesktop.classList.add('nav-hidden');
    }
    if (navMobile) {
      navMobile.classList.add('nav-hidden');
    }
    
    modal.classList.remove('hidden');
    // Prevenir scroll de la página
    const scrollY = window.scrollY;
    document.body.style.overflow = 'hidden';
    document.body.style.position = 'fixed';
    document.body.style.width = '100%';
    document.body.style.top = `-${scrollY}px`;
    
    // Ajustar cursor personalizado para compensar el offset del body
    const customCursor = document.querySelector('.c-cursor');
    if (customCursor) {
      const currentTransform = window.getComputedStyle(customCursor).transform;
      if (currentTransform && currentTransform !== 'none') {
        const matrix = new DOMMatrix(currentTransform);
        const currentY = matrix.m42;
        customCursor.style.transform = `translate(${matrix.m41}px, ${currentY + scrollY}px)`;
      }
    }
    
    requestAnimationFrame(function() {
      requestAnimationFrame(function() {
        modal.classList.add('active');
      });
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('.project-card').forEach(function(card) {
      card.addEventListener('click', function(e) {
        if (e.target.closest('a')) return;
        
        const projectCard = e.target.closest('.project-card');
        
        projectCard.classList.add('clicking');
        setTimeout(function() {
          projectCard.classList.remove('clicking');
        }, 600);
        
        const projectId = projectCard.dataset.projectId || '';
        const title = projectCard.dataset.projectTitle || '';
        const description = projectCard.dataset.projectDescription || '';
        const technologiesJson = projectCard.dataset.projectTechnologies || '[]';
        const github = projectCard.dataset.projectGithub || '';
        const url = projectCard.dataset.projectUrl || '';
        const imagesJson = projectCard.dataset.projectImages || '[]';
        
        let images = [];
        let technologies = [];
        try {
          images = JSON.parse(imagesJson);
          technologies = JSON.parse(technologiesJson);
        } catch (err) {
          images = [];
          technologies = [];
        }
        
        // Pasar datos del proyecto
        const projectData = {
          id: projectId,
          title: title,
          description: description,
          technologies: technologies,
          github: github,
          url: url
        };
        
        openCarousel(title, images, false, projectData);
      });
    });

    // Manejar clicks en experiencia laboral y freelance con imágenes
    document.querySelectorAll('.experience-with-images > div').forEach(function(expCard) {
      expCard.addEventListener('click', function(e) {
        // No abrir si se hace click en un link o botón
        if (e.target.closest('a') || e.target.tagName === 'A') return;
        
        const id = expCard.dataset.experienceId || '';
        const title = expCard.dataset.experienceTitle || '';
        const company = expCard.dataset.experienceCompany || '';
        const description = expCard.dataset.experienceDescription || '';
        const technologiesJson = expCard.dataset.experienceTechnologies || '[]';
        const imagesJson = expCard.dataset.experienceImages || '[]';
        
        let images = [];
        let technologies = [];
        try {
          images = JSON.parse(imagesJson);
          technologies = JSON.parse(technologiesJson);
        } catch (err) {
          images = [];
          technologies = [];
        }
        
        if (images.length > 0) {
          expCard.classList.add('clicking');
          setTimeout(function() {
            expCard.classList.remove('clicking');
          }, 300);
          
          // Crear objeto con datos del proyecto para usar la misma interfaz
          const projectData = {
            id: id,
            title: title,
            description: description,
            company: company,
            technologies: technologies,
            github: '',
            url: ''
          };
          
          openCarousel(title, images, false, projectData);
        }
      });
    });

    // Funciones para modal de certificados
    function openCertificationModal(title, imageSrc) {
      const modal = document.getElementById('certification-modal');
      const titleEl = document.getElementById('certification-title');
      const imageEl = document.getElementById('certification-image');
      
      if (!modal || !titleEl || !imageEl) return;
      
      titleEl.textContent = title;
      imageEl.src = imageSrc;
      imageEl.alt = title;
      
      modal.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
      
      // Ocultar menú y selector de idioma
      const langSelector = document.getElementById('language-selector');
      const navDesktop = document.getElementById('nav-menu-desktop');
      const navMobile = document.getElementById('nav-menu-mobile');
      if (langSelector) {
        langSelector.style.opacity = '0';
        langSelector.style.pointerEvents = 'none';
      }
      if (navDesktop) {
        navDesktop.classList.add('nav-hidden');
      }
      if (navMobile) {
        navMobile.classList.add('nav-hidden');
      }
      
      // Animación de entrada
      requestAnimationFrame(function() {
        requestAnimationFrame(function() {
          modal.classList.add('active');
          imageEl.classList.add('certification-zoom-in');
        });
      });
    }

    function closeCertificationModal() {
      const modal = document.getElementById('certification-modal');
      const imageEl = document.getElementById('certification-image');
      
      if (!modal) return;
      
      if (imageEl) {
        imageEl.classList.remove('certification-zoom-in');
        imageEl.classList.add('certification-zoom-out');
      }
      
      modal.classList.remove('active');
      
      setTimeout(function() {
        modal.classList.add('hidden');
        document.body.style.overflow = '';
        if (imageEl) {
          imageEl.classList.remove('certification-zoom-out');
        }
        
        // Mostrar menú y selector de idioma
        const langSelector = document.getElementById('language-selector');
        const navDesktop = document.getElementById('nav-menu-desktop');
        const navMobile = document.getElementById('nav-menu-mobile');
        if (langSelector) {
          langSelector.style.opacity = '1';
          langSelector.style.pointerEvents = '';
        }
        if (navDesktop) {
          navDesktop.classList.remove('nav-hidden');
        }
        if (navMobile) {
          navMobile.classList.remove('nav-hidden');
        }
      }, 400);
    }

    // Manejar clicks en certificados
    document.querySelectorAll('.certification-card').forEach(function(certCard) {
      certCard.addEventListener('click', function(e) {
        const title = certCard.dataset.certificationTitle || '';
        const image = certCard.dataset.certificationImage || '';
        
        if (image) {
          certCard.classList.add('clicking');
          setTimeout(function() {
            certCard.classList.remove('clicking');
          }, 300);
          
          openCertificationModal(title, image);
        }
      });
    });

    // Event listeners para cerrar modal de certificados
    document.getElementById('certification-backdrop').addEventListener('click', closeCertificationModal);
    document.getElementById('certification-close-btn').addEventListener('click', closeCertificationModal);
    
    document.addEventListener('keydown', function(e) {
      const modal = document.getElementById('certification-modal');
      if (modal && !modal.classList.contains('hidden') && e.key === 'Escape') {
        closeCertificationModal();
      }
    });

    document.getElementById('carousel-backdrop').addEventListener('click', closeCarousel);
    document.getElementById('carousel-close-btn').addEventListener('click', closeCarousel);
    document.getElementById('carousel-prev-btn').addEventListener('click', prevSlide);
    document.getElementById('carousel-next-btn').addEventListener('click', nextSlide);
    
    // Event listeners para botones del carrusel de proyectos (las funciones ya están definidas arriba)
    const projectPrevBtn = document.getElementById('project-prev-btn');
    const projectNextBtn = document.getElementById('project-next-btn');
    const projectThumbnailsPrevBtn = document.getElementById('project-thumbnails-prev');
    const projectThumbnailsNextBtn = document.getElementById('project-thumbnails-next');
    
    if (projectPrevBtn) {
      projectPrevBtn.addEventListener('click', prevProjectSlide);
    }
    if (projectNextBtn) {
      projectNextBtn.addEventListener('click', nextProjectSlide);
    }
    if (projectThumbnailsPrevBtn) {
      projectThumbnailsPrevBtn.addEventListener('click', (e) => scrollThumbnails('prev', e));
    }
    if (projectThumbnailsNextBtn) {
      projectThumbnailsNextBtn.addEventListener('click', (e) => scrollThumbnails('next', e));
    }
    
    // Las funciones updateProjectSlide, scrollThumbnails, prevProjectSlide y nextProjectSlide
    // ya están definidas fuera de este bloque DOMContentLoaded, por lo que no se duplican aquí

    document.addEventListener('keydown', function(e) {
      const modal = document.getElementById('carousel-modal');
      if (modal.classList.contains('hidden')) return;
      
      const projectView = document.getElementById('project-detail-view');
      const isProjectView = projectView && !projectView.classList.contains('hidden');
      
      if (e.key === 'Escape') closeCarousel();
      
      if (isProjectView) {
        // Navegación para vista de proyecto
        if (e.key === 'ArrowLeft') prevProjectSlide();
        if (e.key === 'ArrowRight') nextProjectSlide();
      } else {
        // Navegación para vista de carrusel (experiencia)
        if (e.key === 'ArrowLeft') prevSlide();
        if (e.key === 'ArrowRight') nextSlide();
      }
    });

    // Translations
    const translations = {
      es: {
        'title': 'Ingeniero en Sistemas Computacionales',
        'contact': 'Contáctame',
        'open-to-work': 'Disponible para trabajar',
        'about-title': 'Sobre mí',
        'about-text': 'Ingeniero en Sistemas Computacionales especializado en <span class="text-violet-400 font-semibold">desarrollo web y móvil</span> con metodologías ágiles (Scrum). Adaptable, autodidacta y enfocado en generar valor desde la planificación hasta la ejecución.',
        'skills-title': 'Tecnologías',
        'tech-frontend': 'Frontend',
        'tech-backend': 'Backend',
        'tech-others': 'Otros',
        'experience-title': 'Experiencia Laboral',
        'freelance-title': 'Proyectos Freelance',
        'cv-title': 'CV Completo',
        'cv-available': 'CV disponible en:',
        'cv-es': 'CV ES',
        'cv-en': 'CV EN',
        'projects-title': 'Proyectos Personales',
        'project-assistvision': 'App móvil de asistencia visual con IA para personas con discapacidad visual. Reconocimiento de billetes y colores en tiempo real. 🏆 Podio nacional INNOVATECNM 2024.',
        'project-trust': 'Videojuego indie de plataformas con mecánicas únicas y diseño de niveles desafiante.',
        'project-memorydev': 'App móvil para gestión de proyectos de desarrollo con sincronización en la nube.',
        'project-sussyai': 'App móvil de chat con IA para aprendizaje de inglés de forma interactiva.',
        'project-datasaints': 'Página web para ofrecer servicios de desarrollo. 🚧 En desarrollo',
        'project-eepediaz': 'App móvil para jugadores de Call of Duty Zombies. Ver tutoriales, consejos y compartir en foros sobre los easter eggs de zombies.',
        'education-title': 'Educación',
        'education-degree': 'Ingeniería en Sistemas Computacionales',
        'education-institution': 'Instituto Tecnológico Superior de Xalapa',
        'education-achievement': 'Podio en InnovaTecNM a nivel nacional | "AssistVision" | 2024',
        'certifications-title': 'Certificaciones',
        'languages-title': 'Idiomas',
        'lang-spanish': 'Español:',
        'lang-english': 'Inglés:',
        'lang-native': 'Nativo',
        'lang-intermediate': 'Intermedio',
        'footer-developed': 'Desarrollado con',
        'footer-and': 'y',
        'exp-title-vector': 'Analista de Datos – Product Owner',
        'exp-desc-vector': 'Planificación y coordinación de sprints con Scrum. Análisis de requerimientos y liderazgo técnico en equipos de desarrollo.',
        'exp-title-petravia': 'Desarrollador Web y Analista de Datos',
        'exp-desc-petravia': 'Desarrollo de sistema web para gestión de bitácoras de mantenimiento. Análisis de requerimientos e implementación de mejoras basadas en datos históricos.',
        'exp-title-vector-evaluaciones': 'Desarrollador - Sistema de Evaluaciones',
        'exp-desc-vector-evaluaciones': 'Desarrollo de sistema de evaluaciones para administrar la efectividad y retroalimentación de los sistemas internos de la empresa.',
        'exp-title-makarenko': 'Desarrollador Web – Freelance',
        'exp-desc-makarenko': 'Desarrollo de sistemas web para registro de desayunos escolares. Mantenimiento y soporte continuo.',
        'exp-title-imss': 'Desarrollador Web (Servicio Social)',
        'exp-desc-imss': 'Servicio social. Desarrollo de sistema web para gestión de archivos y lectura de documentos Excel para documentos legales.',
        'exp-title-dif': 'Desarrollador Web',
        'exp-desc-dif': 'Gestión de solicitudes de soporte público con Scrum. Recolección de requerimientos, organización de sprints y ejecución con equipo de desarrollo.',
        'exp-private-project': '(Sistema interno)',
        'exp-dates-vector': 'Enero 2025 — Julio 2025',
        'exp-dates-petravia': 'Diciembre 2023 — Diciembre 2024',
        'exp-dates-vector-evaluaciones': 'Mayo 2025',
        'exp-dates-makarenko': '2023 — 2025',
        'exp-dates-dif': 'Febrero 2024 — Mayo 2024'
      },
      en: {
        'title': 'Computer Systems Engineer',
        'contact': 'Contact Me',
        'open-to-work': 'Open to work',
        'about-title': 'About Me',
        'about-text': 'Computer Systems Engineer specialized in <span class="text-violet-400 font-semibold">web and mobile development</span> with agile methodologies (Scrum). Adaptable, self-taught, and focused on generating value from planning to execution.',
        'skills-title': 'Technologies',
        'tech-frontend': 'Frontend',
        'tech-backend': 'Backend',
        'tech-others': 'Otros',
        'experience-title': 'Work Experience',
        'freelance-title': 'Freelance Projects',
        'cv-title': 'Full CV',
        'cv-available': 'CV available in:',
        'cv-es': 'CV ES',
        'cv-en': 'CV EN',
        'projects-title': 'Personal Projects',
        'project-assistvision': 'AI-powered mobile visual assistance app for people with visual disabilities. Real-time bill and color recognition. 🏆 National podium INNOVATECNM 2024.',
        'project-trust': 'Indie platform game with unique mechanics and challenging level design.',
        'project-memorydev': 'Mobile app for development project management with cloud synchronization.',
        'project-sussyai': 'AI-powered mobile chat app for interactive English learning.',
        'project-datasaints': 'Web page to offer development services. 🚧 In development',
        'project-eepediaz': 'Mobile app for Call of Duty Zombies players. Watch tutorials, tips and share in forums about zombie easter eggs.',
        'education-title': 'Education',
        'education-degree': 'Computer Systems Engineering',
        'education-institution': 'Instituto Tecnológico Superior de Xalapa',
        'education-achievement': 'National podium in InnovaTecNM | "AssistVision" | 2024',
        'certifications-title': 'Certifications',
        'languages-title': 'Languages',
        'lang-spanish': 'Spanish:',
        'lang-english': 'English:',
        'lang-native': 'Native',
        'lang-intermediate': 'Intermediate',
        'footer-developed': 'Developed with',
        'footer-and': 'and',
        'exp-title-vector': 'Data Analyst – Product Owner',
        'exp-desc-vector': 'Sprint planning and coordination with Scrum. Requirements analysis and technical leadership in development teams.',
        'exp-title-petravia': 'Web Developer and Data Analyst',
        'exp-desc-petravia': 'Web system development for maintenance log management. Requirements analysis and implementation of improvements based on historical data.',
        'exp-title-vector-evaluaciones': 'Developer - Evaluation System',
        'exp-desc-vector-evaluaciones': 'Development of evaluation system to manage effectiveness and feedback of internal company systems.',
        'exp-title-makarenko': 'Web Developer – Freelance',
        'exp-desc-makarenko': 'Web system development for school breakfast registration. Continuous maintenance and support.',
        'exp-title-imss': 'Web Developer (Social Service)',
        'exp-desc-imss': 'Social service. Web system development for file management and Excel document reading for legal documents.',
        'exp-title-dif': 'Web Developer',
        'exp-desc-dif': 'Public support request management with Scrum. Requirements gathering, sprint organization and execution with development team.',
        'exp-private-project': '(Internal system)',
        'exp-dates-vector': 'January 2025 — July 2025',
        'exp-dates-petravia': 'December 2023 — December 2024',
        'exp-dates-vector-evaluaciones': 'May 2025',
        'exp-dates-makarenko': '2023 — 2025',
        'exp-dates-dif': 'February 2024 — May 2024'
      }
    };

    // Inicializar idioma en español por defecto
    let currentLang = localStorage.getItem('lang');
    if (!currentLang) {
      currentLang = 'es';
      localStorage.setItem('lang', 'es');
    }

    function setLanguage(lang) {
      if (currentLang === lang) return; // No hacer nada si ya está en ese idioma
      
      // Fade out animation
      const allTranslatableElements = document.querySelectorAll('[data-i18n]');
      allTranslatableElements.forEach(function(element) {
        element.classList.add('lang-fade-out');
      });

      // After fade out, change content and fade in
      setTimeout(function() {
        currentLang = lang;
        localStorage.setItem('lang', lang);
        
        // Update all elements with data-i18n attribute
        allTranslatableElements.forEach(function(element) {
          const key = element.getAttribute('data-i18n');
          if (translations[lang] && translations[lang][key]) {
            // Use innerHTML for elements that may contain HTML or emojis
            if (element.tagName === 'P' && (key === 'about-text' || key.startsWith('project-') || key.startsWith('exp-desc-'))) {
              element.innerHTML = translations[lang][key];
            } else if (element.classList.contains('experience-description')) {
              element.innerHTML = translations[lang][key];
            } else {
              element.textContent = translations[lang][key];
            }
          }
          
          // Remove fade-out and add fade-in
          element.classList.remove('lang-fade-out');
          element.classList.add('lang-fade-in');
        });

        // Traducir fechas de experiencia
        document.querySelectorAll('.experience-dates').forEach(function(dateElement) {
          const key = dateElement.getAttribute('data-i18n');
          if (translations[lang] && translations[lang][key]) {
            dateElement.textContent = translations[lang][key];
            dateElement.classList.remove('lang-fade-out');
            dateElement.classList.add('lang-fade-in');
          }
        });

        // Remove fade-in class after animation completes
        setTimeout(function() {
          allTranslatableElements.forEach(function(element) {
            element.classList.remove('lang-fade-in');
          });
        }, 300);
      }, 200);

      // Update nav tooltips
      const navTooltips = {
        es: {
          'about': 'Sobre mí',
          'skills': 'Tecnologías',
          'experience': 'Experiencia',
          'cv': 'CV',
          'projects': 'Proyectos',
          'education': 'Educación',
          'certifications': 'Certificaciones',
          'languages': 'Idiomas'
        },
        en: {
          'about': 'About Me',
          'skills': 'Technologies',
          'experience': 'Experience',
          'cv': 'CV',
          'projects': 'Projects',
          'education': 'Education',
          'certifications': 'Certifications',
          'languages': 'Languages'
        }
      };

      document.querySelectorAll('.nav-link, .nav-link-mobile').forEach(function(link) {
        const section = link.getAttribute('data-section');
        if (section && navTooltips[lang] && navTooltips[lang][section]) {
          link.setAttribute('title', navTooltips[lang][section]);
        }
      });
    }

    // Language Selector
    const langButtons = document.querySelectorAll('.lang-btn');
    langButtons.forEach(function(btn) {
      btn.addEventListener('click', function() {
        const lang = this.dataset.lang;
        langButtons.forEach(function(b) {
          b.classList.remove('active');
        });
        this.classList.add('active');
        setLanguage(lang);
      });
    });

    // Set initial language
    document.querySelectorAll('.lang-btn').forEach(function(btn) {
      if (btn.dataset.lang === currentLang) {
        btn.classList.add('active');
      } else {
        btn.classList.remove('active');
      }
    });

    // Traducir fechas al cargar la página
    document.querySelectorAll('.experience-dates').forEach(function(dateElement) {
      const key = dateElement.getAttribute('data-i18n');
      if (translations[currentLang] && translations[currentLang][key]) {
        dateElement.textContent = translations[currentLang][key];
      }
    });
    setLanguage(currentLang);

    // Hero fade-in animations
    function initHeroAnimations() {
      const heroElements = document.querySelectorAll('.hero-fade-in');
      if (heroElements.length === 0) return;

      // Check if user prefers reduced motion
      const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (prefersReducedMotion) {
        heroElements.forEach(el => el.classList.add('visible'));
        return;
      }

      // Separate hero left elements from main content sections
      const heroLeftElements = [];
      const mainSections = [];
      
      heroElements.forEach((el) => {
        // Check if element is in the header (left side) or in main (right side)
        const isInHeader = el.closest('header') !== null;
        if (isInHeader) {
          heroLeftElements.push(el);
        } else {
          mainSections.push(el);
        }
      });

      // Animate hero left elements first (200ms initial delay, 100ms between each)
      heroLeftElements.forEach((el, index) => {
        setTimeout(() => {
          el.classList.add('visible');
        }, index * 100 + 200);
      });

      // Animate main sections after hero left elements finish
      // Start after hero left elements (approximately 200 + (heroLeftElements.length * 100) + 300ms gap)
      const mainStartDelay = 200 + (heroLeftElements.length * 100) + 300;
      mainSections.forEach((el, index) => {
        setTimeout(() => {
          el.classList.add('visible');
        }, mainStartDelay + (index * 120)); // 120ms between each section for smoother effect
      });
    }

    // Initialize hero animations
    initHeroAnimations();

    // Navigation Menu (Desktop y Mobile)
    const navLinks = document.querySelectorAll('.nav-link, .nav-link-mobile');
    const sections = document.querySelectorAll('section[id]');

    function updateActiveNav() {
      let current = '';
      const scrollY = window.pageYOffset;

      sections.forEach(function(section) {
        const sectionTop = section.offsetTop - 100;
        const sectionHeight = section.offsetHeight;
        const sectionId = section.getAttribute('id');

        if (scrollY >= sectionTop && scrollY < sectionTop + sectionHeight) {
          current = sectionId;
        }
      });

      navLinks.forEach(function(link) {
        link.classList.remove('active');
        if (link.getAttribute('href') === '#' + current) {
          link.classList.add('active');
        }
      });
    }

    // Smooth scroll para los enlaces del menú
    navLinks.forEach(function(link) {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('href');
        const targetSection = document.querySelector(targetId);
        
        if (targetSection) {
          const offsetTop = targetSection.offsetTop - 80;
          window.scrollTo({
            top: offsetTop,
            behavior: 'smooth'
          });
        }
      });
    });

    // Actualizar menú al hacer scroll
    window.addEventListener('scroll', updateActiveNav);
    updateActiveNav(); // Llamar al inicio

    // Modal de Contacto
    const contactBtn = document.getElementById('contact-btn');
    const contactModal = document.getElementById('contact-modal');
    const contactModalClose = document.getElementById('contact-modal-close');
    const contactForm = document.getElementById('contact-form');
    const contactSubmitText = document.getElementById('contact-submit-text');
    const contactSubmitLoader = document.getElementById('contact-submit-loader');
    const contactFormMessage = document.getElementById('contact-form-message');
    const contactSubmitBtn = contactForm?.querySelector('button[type="submit"]');

    // Configuración del formulario
    // Formspree configurado
    const FORMSFREE_ENDPOINT = 'https://formspree.io/f/xwvvvvnw';
    
    // OPCIÓN 2: EmailJS (Alternativa)
    // Si prefieres usar EmailJS, descomenta y configura:
    // const EMAILJS_SERVICE_ID = 'YOUR_SERVICE_ID';
    // const EMAILJS_TEMPLATE_ID = 'YOUR_TEMPLATE_ID';
    // const EMAILJS_PUBLIC_KEY = 'YOUR_PUBLIC_KEY';

    function openContactModal() {
      if (contactModal) {
        contactModal.classList.remove('hidden');
        setTimeout(() => {
          contactModal.classList.add('active');
        }, 10);
        document.body.style.overflow = 'hidden';
      }
    }

    function closeContactModal() {
      if (contactModal) {
        contactModal.classList.remove('active');
        setTimeout(() => {
          contactModal.classList.add('hidden');
        }, 300);
        document.body.style.overflow = '';
        // Limpiar formulario
        if (contactForm) {
          contactForm.reset();
          hideMessage();
        }
      }
    }

    function showMessage(text, type) {
      if (contactFormMessage) {
        contactFormMessage.textContent = text;
        contactFormMessage.className = `contact-form-message ${type}`;
        contactFormMessage.classList.remove('hidden');
      }
    }

    function hideMessage() {
      if (contactFormMessage) {
        contactFormMessage.classList.add('hidden');
        contactFormMessage.textContent = '';
      }
    }

    function setLoading(loading) {
      if (contactSubmitText && contactSubmitLoader && contactSubmitBtn) {
        if (loading) {
          contactSubmitText.style.display = 'none';
          contactSubmitLoader.classList.remove('hidden');
          contactSubmitBtn.disabled = true;
        } else {
          contactSubmitText.style.display = 'inline';
          contactSubmitLoader.classList.add('hidden');
          contactSubmitBtn.disabled = false;
        }
      }
    }

    // Asegurar que el loader esté oculto inicialmente
    if (contactSubmitLoader) {
      contactSubmitLoader.classList.add('hidden');
    }
    if (contactSubmitText) {
      contactSubmitText.style.display = 'inline';
    }

    if (contactBtn) {
      contactBtn.addEventListener('click', (e) => {
        e.preventDefault();
        openContactModal();
      });
    }

    if (contactModalClose) {
      contactModalClose.addEventListener('click', closeContactModal);
    }

    if (contactModal) {
      contactModal.addEventListener('click', (e) => {
        if (e.target === contactModal || e.target.classList.contains('contact-modal-backdrop')) {
          closeContactModal();
        }
      });
    }

    // Cerrar con ESC
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && contactModal && contactModal.classList.contains('active')) {
        closeContactModal();
      }
    });

    // Avatar expandible al hacer click
    const avatarWrapper = document.getElementById('avatar-wrapper');
    const openToWorkBadge = document.getElementById('open-to-work-badge');
    if (avatarWrapper) {
      avatarWrapper.addEventListener('click', function() {
        this.classList.toggle('expanded');
        // Expandir/contraer badge junto con el avatar
        if (openToWorkBadge) {
          if (this.classList.contains('expanded')) {
            openToWorkBadge.classList.add('expanded');
          } else {
            openToWorkBadge.classList.remove('expanded');
          }
        }
      });
    }

    // Modal de imagen ampliada
    const imageZoomModal = document.getElementById('image-zoom-modal');
    const imageZoomClose = document.getElementById('image-zoom-close');
    const imageZoomPrev = document.getElementById('image-zoom-prev');
    const imageZoomNext = document.getElementById('image-zoom-next');
    const imageZoomBackdrop = document.getElementById('image-zoom-backdrop');

    if (imageZoomClose) {
      imageZoomClose.addEventListener('click', closeImageZoom);
    }

    if (imageZoomBackdrop) {
      imageZoomBackdrop.addEventListener('click', closeImageZoom);
    }

    if (imageZoomPrev) {
      imageZoomPrev.addEventListener('click', prevZoomImage);
    }

    if (imageZoomNext) {
      imageZoomNext.addEventListener('click', nextZoomImage);
    }

    // Cerrar con ESC
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && imageZoomModal && imageZoomModal.classList.contains('active')) {
        closeImageZoom();
      } else if (e.key === 'ArrowLeft' && imageZoomModal && imageZoomModal.classList.contains('active')) {
        prevZoomImage();
      } else if (e.key === 'ArrowRight' && imageZoomModal && imageZoomModal.classList.contains('active')) {
        nextZoomImage();
      }
    });

    // Manejar envío del formulario
    if (contactForm) {
      contactForm.addEventListener('submit', async (e) => {
        e.preventDefault();
        hideMessage();

        const formData = new FormData(contactForm);
        const name = formData.get('name');
        const email = formData.get('email');
        const subject = formData.get('subject');
        const message = formData.get('message');

        setLoading(true);

        try {
          // Opción 1: Usar Formspree (recomendado - más fácil)
          if (FORMSFREE_ENDPOINT && !FORMSFREE_ENDPOINT.includes('YOUR_FORMSPREE_ID')) {
            const response = await fetch(FORMSFREE_ENDPOINT, {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
              },
              body: JSON.stringify({
                name: name,
                email: email,
                subject: subject,
                message: message,
                _replyto: email,
                _subject: `Contacto desde Portfolio: ${subject}`
              })
            });

            const responseData = await response.json().catch(() => ({}));
            
            if (response.ok) {
              setLoading(false);
              showMessage('¡Mensaje enviado exitosamente! Te responderé pronto.', 'success');
              contactForm.reset();
              setTimeout(() => {
                closeContactModal();
              }, 3000);
            } else {
              throw new Error(responseData.error || 'Error al enviar el mensaje');
            }
          }
          // Opción 2: Usar EmailJS
          else if (typeof emailjs !== 'undefined') {
            const EMAILJS_SERVICE_ID = 'YOUR_SERVICE_ID';
            const EMAILJS_TEMPLATE_ID = 'YOUR_TEMPLATE_ID';
            const EMAILJS_PUBLIC_KEY = 'YOUR_PUBLIC_KEY';

            if (EMAILJS_PUBLIC_KEY !== 'YOUR_PUBLIC_KEY') {
              emailjs.init(EMAILJS_PUBLIC_KEY);

              const templateParams = {
                from_name: name,
                from_email: email,
                subject: subject,
                message: message,
                to_email: 'mario.arroyout@gmail.com'
              };

              await emailjs.send(EMAILJS_SERVICE_ID, EMAILJS_TEMPLATE_ID, templateParams);
              
              setLoading(false);
              showMessage('¡Mensaje enviado exitosamente! Te responderé pronto.', 'success');
              contactForm.reset();
              setTimeout(() => {
                closeContactModal();
              }, 3000);
            } else {
              throw new Error('EmailJS no configurado');
            }
          }
          // Opción 3: Fallback a mailto
          else {
            setLoading(false);
            const mailtoLink = `mailto:mario.arroyout@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(`Nombre: ${name}\nEmail: ${email}\n\nMensaje:\n${message}`)}`;
            window.location.href = mailtoLink;
            showMessage('Redirigiendo a tu cliente de correo...', 'success');
            setTimeout(() => {
              closeContactModal();
            }, 2000);
          }
        } catch (error) {
          console.error('Error al enviar el correo:', error);
          setLoading(false);
          const errorMessage = error instanceof Error ? error.message : 'Error desconocido';
          showMessage(`Error al enviar el mensaje: ${errorMessage}. Por favor, intenta nuevamente o envía un correo directamente a mario.arroyout@gmail.com`, 'error');
        }
      });
    }
  });
</script>

